ARM GAS  /tmp/ccFU370z.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"stm32f4xx_spi.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.SPI_I2S_DeInit,"ax",%progbits
  18              		.align	1
  19              		.global	SPI_I2S_DeInit
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv4-sp-d16
  26              	SPI_I2S_DeInit:
  27              	.LVL0:
  28              	.LFB130:
  29              		.file 1 "Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c"
   1:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /**
   2:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   ******************************************************************************
   3:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @file    stm32f4xx_spi.c
   4:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @author  MCD Application Team
   5:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @version V1.0.2
   6:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @date    05-March-2012
   7:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @brief   This file provides firmware functions to manage the following 
   8:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          functionalities of the Serial peripheral interface (SPI):
   9:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *           - Initialization and Configuration
  10:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *           - Data transfers functions
  11:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *           - Hardware CRC Calculation
  12:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *           - DMA transfers management
  13:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *           - Interrupts and flags management 
  14:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *           
  15:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *  @verbatim
  16:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          
  17:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *                    
  18:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          ===================================================================
  19:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *                                 How to use this driver
  20:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          ===================================================================
  21:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *    
  22:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          1. Enable peripheral clock using the following functions 
  23:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *             RCC_APB2PeriphClockCmd(RCC_APB2Periph_SPI1, ENABLE) for SPI1
  24:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *             RCC_APB1PeriphClockCmd(RCC_APB1Periph_SPI2, ENABLE) for SPI2
  25:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *             RCC_APB1PeriphResetCmd(RCC_APB1Periph_SPI3, ENABLE) for SPI3.
  26:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *
  27:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          2. Enable SCK, MOSI, MISO and NSS GPIO clocks using RCC_AHB1PeriphClockCmd()
  28:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *             function.
  29:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *             In I2S mode, if an external clock source is used then the I2S CKIN pin GPIO
ARM GAS  /tmp/ccFU370z.s 			page 2


  30:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *             clock should also be enabled.
  31:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *
  32:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          3. Peripherals alternate function: 
  33:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *                 - Connect the pin to the desired peripherals' Alternate 
  34:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *                   Function (AF) using GPIO_PinAFConfig() function
  35:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *                 - Configure the desired pin in alternate function by:
  36:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *                   GPIO_InitStruct->GPIO_Mode = GPIO_Mode_AF
  37:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *                 - Select the type, pull-up/pull-down and output speed via 
  38:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *                   GPIO_PuPd, GPIO_OType and GPIO_Speed members
  39:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *                 - Call GPIO_Init() function
  40:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *              In I2S mode, if an external clock source is used then the I2S CKIN pin
  41:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *              should be also configured in Alternate function Push-pull pull-up mode. 
  42:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *        
  43:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          4. Program the Polarity, Phase, First Data, Baud Rate Prescaler, Slave 
  44:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *             Management, Peripheral Mode and CRC Polynomial values using the SPI_Init()
  45:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *             function.
  46:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *             In I2S mode, program the Mode, Standard, Data Format, MCLK Output, Audio 
  47:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *             frequency and Polarity using I2S_Init() function.
  48:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *             For I2S mode, make sure that either:
  49:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *              - I2S PLL is configured using the functions RCC_I2SCLKConfig(RCC_I2S2CLKSource_PLL
  50:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *                RCC_PLLI2SCmd(ENABLE) and RCC_GetFlagStatus(RCC_FLAG_PLLI2SRDY).
  51:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *              or 
  52:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *              - External clock source is configured using the function 
  53:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *                RCC_I2SCLKConfig(RCC_I2S2CLKSource_Ext) and after setting correctly the define c
  54:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *                I2S_EXTERNAL_CLOCK_VAL in the stm32f4xx_conf.h file. 
  55:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *
  56:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          5. Enable the NVIC and the corresponding interrupt using the function 
  57:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *             SPI_ITConfig() if you need to use interrupt mode. 
  58:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *
  59:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          6. When using the DMA mode 
  60:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *                   - Configure the DMA using DMA_Init() function
  61:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *                   - Active the needed channel Request using SPI_I2S_DMACmd() function
  62:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * 
  63:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          7. Enable the SPI using the SPI_Cmd() function or enable the I2S using
  64:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *             I2S_Cmd().
  65:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * 
  66:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          8. Enable the DMA using the DMA_Cmd() function when using DMA mode. 
  67:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *
  68:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          9. Optionally, you can enable/configure the following parameters without
  69:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *             re-initialization (i.e there is no need to call again SPI_Init() function):
  70:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *              - When bidirectional mode (SPI_Direction_1Line_Rx or SPI_Direction_1Line_Tx)
  71:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *                is programmed as Data direction parameter using the SPI_Init() function
  72:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *                it can be possible to switch between SPI_Direction_Tx or SPI_Direction_Rx
  73:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *                using the SPI_BiDirectionalLineConfig() function.
  74:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *              - When SPI_NSS_Soft is selected as Slave Select Management parameter 
  75:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *                using the SPI_Init() function it can be possible to manage the 
  76:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *                NSS internal signal using the SPI_NSSInternalSoftwareConfig() function.
  77:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *              - Reconfigure the data size using the SPI_DataSizeConfig() function  
  78:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *              - Enable or disable the SS output using the SPI_SSOutputCmd() function  
  79:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          
  80:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          10. To use the CRC Hardware calculation feature refer to the Peripheral 
  81:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *              CRC hardware Calculation subsection.
  82:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *   
  83:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *
  84:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          It is possible to use SPI in I2S full duplex mode, in this case, each SPI 
  85:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          peripheral is able to manage sending and receiving data simultaneously
  86:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          using two data lines. Each SPI peripheral has an extended block called I2Sxext
ARM GAS  /tmp/ccFU370z.s 			page 3


  87:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          (ie. I2S2ext for SPI2 and I2S3ext for SPI3).
  88:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          The extension block is not a full SPI IP, it is used only as I2S slave to
  89:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          implement full duplex mode. The extension block uses the same clock sources
  90:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          as its master.          
  91:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          To configure I2S full duplex you have to:
  92:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            
  93:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          1. Configure SPIx in I2S mode (I2S_Init() function) as described above. 
  94:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *           
  95:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          2. Call the I2S_FullDuplexConfig() function using the same strucutre passed to  
  96:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *             I2S_Init() function.
  97:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            
  98:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          3. Call I2S_Cmd() for SPIx then for its extended block.
  99:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          
 100:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          4. To configure interrupts or DMA requests and to get/clear flag status, 
 101:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *             use I2Sxext instance for the extension block.
 102:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *             
 103:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          Functions that can be called with I2Sxext instances are:
 104:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          I2S_Cmd(), I2S_FullDuplexConfig(), SPI_I2S_ReceiveData(), SPI_I2S_SendData(), 
 105:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          SPI_I2S_DMACmd(), SPI_I2S_ITConfig(), SPI_I2S_GetFlagStatus(), SPI_I2S_ClearFlag(),
 106:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          SPI_I2S_GetITStatus() and SPI_I2S_ClearITPendingBit().
 107:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *                 
 108:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          Example: To use SPI3 in Full duplex mode (SPI3 is Master Tx, I2S3ext is Slave Rx):
 109:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            
 110:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          RCC_APB1PeriphClockCmd(RCC_APB1Periph_SPI3, ENABLE);   
 111:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          I2S_StructInit(&I2SInitStruct);
 112:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          I2SInitStruct.Mode = I2S_Mode_MasterTx;     
 113:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          I2S_Init(SPI3, &I2SInitStruct);
 114:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          I2S_FullDuplexConfig(SPI3ext, &I2SInitStruct)
 115:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          I2S_Cmd(SPI3, ENABLE);
 116:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          I2S_Cmd(SPI3ext, ENABLE);
 117:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          ...
 118:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          while (SPI_I2S_GetFlagStatus(SPI2, SPI_FLAG_TXE) == RESET)
 119:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          {}
 120:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          SPI_I2S_SendData(SPI3, txdata[i]);
 121:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          ...  
 122:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          while (SPI_I2S_GetFlagStatus(I2S3ext, SPI_FLAG_RXNE) == RESET)
 123:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          {}
 124:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          rxdata[i] = SPI_I2S_ReceiveData(I2S3ext);
 125:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          ...          
 126:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *              
 127:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *     
 128:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @note    In I2S mode: if an external clock is used as source clock for the I2S,  
 129:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          then the define I2S_EXTERNAL_CLOCK_VAL in file stm32f4xx_conf.h should 
 130:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          be enabled and set to the value of the source clock frequency (in Hz).
 131:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * 
 132:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @note    In SPI mode: To use the SPI TI mode, call the function SPI_TIModeCmd() 
 133:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          just after calling the function SPI_Init().
 134:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *
 135:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *  @endverbatim  
 136:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *                                  
 137:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   ******************************************************************************
 138:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @attention
 139:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *
 140:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * <h2><center>&copy; COPYRIGHT 2012 STMicroelectronics</center></h2>
 141:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *
 142:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * Licensed under MCD-ST Liberty SW License Agreement V2, (the "License");
 143:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * You may not use this file except in compliance with the License.
ARM GAS  /tmp/ccFU370z.s 			page 4


 144:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * You may obtain a copy of the License at:
 145:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *
 146:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *        http://www.st.com/software_license_agreement_liberty_v2
 147:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *
 148:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * Unless required by applicable law or agreed to in writing, software 
 149:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * distributed under the License is distributed on an "AS IS" BASIS, 
 150:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 151:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * See the License for the specific language governing permissions and
 152:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * limitations under the License.
 153:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *
 154:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   ******************************************************************************
 155:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */ 
 156:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 157:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /* Includes ------------------------------------------------------------------*/
 158:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** #include "stm32f4xx_spi.h"
 159:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** #include "stm32f4xx_rcc.h"
 160:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 161:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /** @addtogroup STM32F4xx_StdPeriph_Driver
 162:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @{
 163:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
 164:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 165:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /** @defgroup SPI 
 166:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @brief SPI driver modules
 167:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @{
 168:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */ 
 169:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 170:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /* Private typedef -----------------------------------------------------------*/
 171:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /* Private define ------------------------------------------------------------*/
 172:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 173:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /* SPI registers Masks */
 174:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** #define CR1_CLEAR_MASK            ((uint16_t)0x3040)
 175:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** #define I2SCFGR_CLEAR_MASK        ((uint16_t)0xF040)
 176:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 177:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /* RCC PLLs masks */
 178:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** #define PLLCFGR_PPLR_MASK         ((uint32_t)0x70000000)
 179:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** #define PLLCFGR_PPLN_MASK         ((uint32_t)0x00007FC0)
 180:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 181:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** #define SPI_CR2_FRF               ((uint16_t)0x0010)
 182:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** #define SPI_SR_TIFRFE             ((uint16_t)0x0100)
 183:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 184:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /* Private macro -------------------------------------------------------------*/
 185:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /* Private variables ---------------------------------------------------------*/
 186:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /* Private function prototypes -----------------------------------------------*/
 187:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /* Private functions ---------------------------------------------------------*/
 188:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 189:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /** @defgroup SPI_Private_Functions
 190:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @{
 191:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
 192:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 193:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /** @defgroup SPI_Group1 Initialization and Configuration functions
 194:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  *  @brief   Initialization and Configuration functions 
 195:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  *
 196:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** @verbatim   
 197:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  ===============================================================================
 198:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****                   Initialization and Configuration functions
 199:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  ===============================================================================  
 200:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
ARM GAS  /tmp/ccFU370z.s 			page 5


 201:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   This section provides a set of functions allowing to initialize the SPI Direction,
 202:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   SPI Mode, SPI Data Size, SPI Polarity, SPI Phase, SPI NSS Management, SPI Baud
 203:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   Rate Prescaler, SPI First Bit and SPI CRC Polynomial.
 204:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   
 205:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   The SPI_Init() function follows the SPI configuration procedures for Master mode
 206:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   and Slave mode (details for these procedures are available in reference manual
 207:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   (RM0090)).
 208:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   
 209:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** @endverbatim
 210:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @{
 211:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
 212:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 213:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /**
 214:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @brief  Deinitialize the SPIx peripheral registers to their default reset values.
 215:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPIx: To select the SPIx/I2Sx peripheral, where x can be: 1, 2 or 3 
 216:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         in SPI mode or 2 or 3 in I2S mode.   
 217:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         
 218:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @note   The extended I2S blocks (ie. I2S2ext and I2S3ext blocks) are deinitialized
 219:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         when the relative I2S peripheral is deinitialized (the extended block's clock
 220:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         is managed by the I2S peripheral clock).
 221:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *             
 222:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @retval None
 223:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
 224:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** void SPI_I2S_DeInit(SPI_TypeDef* SPIx)
 225:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** {
  30              		.loc 1 225 1 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		.loc 1 225 1 is_stmt 0 view .LVU1
  35 0000 08B5     		push	{r3, lr}
  36              	.LCFI0:
  37              		.cfi_def_cfa_offset 8
  38              		.cfi_offset 3, -8
  39              		.cfi_offset 14, -4
 226:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Check the parameters */
 227:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
  40              		.loc 1 227 3 is_stmt 1 view .LVU2
 228:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 229:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   if (SPIx == SPI1)
  41              		.loc 1 229 3 view .LVU3
  42              		.loc 1 229 6 is_stmt 0 view .LVU4
  43 0002 154B     		ldr	r3, .L9
  44 0004 9842     		cmp	r0, r3
  45 0006 06D0     		beq	.L6
 230:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
 231:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Enable SPI1 reset state */
 232:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     RCC_APB2PeriphResetCmd(RCC_APB2Periph_SPI1, ENABLE);
 233:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Release SPI1 from reset state */
 234:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     RCC_APB2PeriphResetCmd(RCC_APB2Periph_SPI1, DISABLE);
 235:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 236:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   else if (SPIx == SPI2)
  46              		.loc 1 236 8 is_stmt 1 view .LVU5
  47              		.loc 1 236 11 is_stmt 0 view .LVU6
  48 0008 144B     		ldr	r3, .L9+4
  49 000a 9842     		cmp	r0, r3
  50 000c 0ED0     		beq	.L7
ARM GAS  /tmp/ccFU370z.s 			page 6


 237:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
 238:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Enable SPI2 reset state */
 239:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     RCC_APB1PeriphResetCmd(RCC_APB1Periph_SPI2, ENABLE);
 240:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Release SPI2 from reset state */
 241:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     RCC_APB1PeriphResetCmd(RCC_APB1Periph_SPI2, DISABLE);
 242:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     }
 243:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   else
 244:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
 245:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     if (SPIx == SPI3)
  51              		.loc 1 245 5 is_stmt 1 view .LVU7
  52              		.loc 1 245 8 is_stmt 0 view .LVU8
  53 000e 144B     		ldr	r3, .L9+8
  54 0010 9842     		cmp	r0, r3
  55 0012 16D0     		beq	.L8
  56              	.LVL1:
  57              	.L1:
 246:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     {
 247:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       /* Enable SPI3 reset state */
 248:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       RCC_APB1PeriphResetCmd(RCC_APB1Periph_SPI3, ENABLE);
 249:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       /* Release SPI3 from reset state */
 250:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       RCC_APB1PeriphResetCmd(RCC_APB1Periph_SPI3, DISABLE);
 251:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     }
 252:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 253:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** }
  58              		.loc 1 253 1 view .LVU9
  59 0014 08BD     		pop	{r3, pc}
  60              	.LVL2:
  61              	.L6:
 232:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Release SPI1 from reset state */
  62              		.loc 1 232 5 is_stmt 1 view .LVU10
  63 0016 0121     		movs	r1, #1
  64 0018 4FF48050 		mov	r0, #4096
  65              	.LVL3:
 232:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Release SPI1 from reset state */
  66              		.loc 1 232 5 is_stmt 0 view .LVU11
  67 001c FFF7FEFF 		bl	RCC_APB2PeriphResetCmd
  68              	.LVL4:
 234:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
  69              		.loc 1 234 5 is_stmt 1 view .LVU12
  70 0020 0021     		movs	r1, #0
  71 0022 4FF48050 		mov	r0, #4096
  72 0026 FFF7FEFF 		bl	RCC_APB2PeriphResetCmd
  73              	.LVL5:
  74 002a F3E7     		b	.L1
  75              	.LVL6:
  76              	.L7:
 239:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Release SPI2 from reset state */
  77              		.loc 1 239 5 view .LVU13
  78 002c 0121     		movs	r1, #1
  79 002e 4FF48040 		mov	r0, #16384
  80              	.LVL7:
 239:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Release SPI2 from reset state */
  81              		.loc 1 239 5 is_stmt 0 view .LVU14
  82 0032 FFF7FEFF 		bl	RCC_APB1PeriphResetCmd
  83              	.LVL8:
 241:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     }
  84              		.loc 1 241 5 is_stmt 1 view .LVU15
ARM GAS  /tmp/ccFU370z.s 			page 7


  85 0036 0021     		movs	r1, #0
  86 0038 4FF48040 		mov	r0, #16384
  87 003c FFF7FEFF 		bl	RCC_APB1PeriphResetCmd
  88              	.LVL9:
  89 0040 E8E7     		b	.L1
  90              	.LVL10:
  91              	.L8:
 248:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       /* Release SPI3 from reset state */
  92              		.loc 1 248 7 view .LVU16
  93 0042 0121     		movs	r1, #1
  94 0044 4FF40040 		mov	r0, #32768
  95              	.LVL11:
 248:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       /* Release SPI3 from reset state */
  96              		.loc 1 248 7 is_stmt 0 view .LVU17
  97 0048 FFF7FEFF 		bl	RCC_APB1PeriphResetCmd
  98              	.LVL12:
 250:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     }
  99              		.loc 1 250 7 is_stmt 1 view .LVU18
 100 004c 0021     		movs	r1, #0
 101 004e 4FF40040 		mov	r0, #32768
 102 0052 FFF7FEFF 		bl	RCC_APB1PeriphResetCmd
 103              	.LVL13:
 104              		.loc 1 253 1 is_stmt 0 view .LVU19
 105 0056 DDE7     		b	.L1
 106              	.L10:
 107              		.align	2
 108              	.L9:
 109 0058 00300140 		.word	1073819648
 110 005c 00380040 		.word	1073756160
 111 0060 003C0040 		.word	1073757184
 112              		.cfi_endproc
 113              	.LFE130:
 115              		.section	.text.SPI_Init,"ax",%progbits
 116              		.align	1
 117              		.global	SPI_Init
 118              		.syntax unified
 119              		.thumb
 120              		.thumb_func
 121              		.fpu fpv4-sp-d16
 123              	SPI_Init:
 124              	.LVL14:
 125              	.LFB131:
 254:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 255:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /**
 256:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @brief  Initializes the SPIx peripheral according to the specified 
 257:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         parameters in the SPI_InitStruct.
 258:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPIx: where x can be 1, 2 or 3 to select the SPI peripheral.
 259:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPI_InitStruct: pointer to a SPI_InitTypeDef structure that
 260:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         contains the configuration information for the specified SPI peripheral.
 261:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @retval None
 262:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
 263:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** void SPI_Init(SPI_TypeDef* SPIx, SPI_InitTypeDef* SPI_InitStruct)
 264:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** {
 126              		.loc 1 264 1 is_stmt 1 view -0
 127              		.cfi_startproc
 128              		@ args = 0, pretend = 0, frame = 0
 129              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  /tmp/ccFU370z.s 			page 8


 130              		.loc 1 264 1 is_stmt 0 view .LVU21
 131 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 132              	.LCFI1:
 133              		.cfi_def_cfa_offset 24
 134              		.cfi_offset 4, -24
 135              		.cfi_offset 5, -20
 136              		.cfi_offset 6, -16
 137              		.cfi_offset 7, -12
 138              		.cfi_offset 8, -8
 139              		.cfi_offset 14, -4
 265:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   uint16_t tmpreg = 0;
 140              		.loc 1 265 3 is_stmt 1 view .LVU22
 141              	.LVL15:
 266:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   
 267:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* check the parameters */
 268:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 142              		.loc 1 268 3 view .LVU23
 269:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   
 270:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Check the SPI parameters */
 271:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_DIRECTION_MODE(SPI_InitStruct->SPI_Direction));
 143              		.loc 1 271 3 view .LVU24
 272:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_MODE(SPI_InitStruct->SPI_Mode));
 144              		.loc 1 272 3 view .LVU25
 273:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_DATASIZE(SPI_InitStruct->SPI_DataSize));
 145              		.loc 1 273 3 view .LVU26
 274:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_CPOL(SPI_InitStruct->SPI_CPOL));
 146              		.loc 1 274 3 view .LVU27
 275:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_CPHA(SPI_InitStruct->SPI_CPHA));
 147              		.loc 1 275 3 view .LVU28
 276:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_NSS(SPI_InitStruct->SPI_NSS));
 148              		.loc 1 276 3 view .LVU29
 277:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_BAUDRATE_PRESCALER(SPI_InitStruct->SPI_BaudRatePrescaler));
 149              		.loc 1 277 3 view .LVU30
 278:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_FIRST_BIT(SPI_InitStruct->SPI_FirstBit));
 150              		.loc 1 278 3 view .LVU31
 279:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_CRC_POLYNOMIAL(SPI_InitStruct->SPI_CRCPolynomial));
 151              		.loc 1 279 3 view .LVU32
 280:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 281:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /*---------------------------- SPIx CR1 Configuration ------------------------*/
 282:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Get the SPIx CR1 value */
 283:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   tmpreg = SPIx->CR1;
 152              		.loc 1 283 3 view .LVU33
 153              		.loc 1 283 10 is_stmt 0 view .LVU34
 154 0004 0388     		ldrh	r3, [r0]
 155              	.LVL16:
 284:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Clear BIDIMode, BIDIOE, RxONLY, SSM, SSI, LSBFirst, BR, MSTR, CPOL and CPHA bits */
 285:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   tmpreg &= CR1_CLEAR_MASK;
 156              		.loc 1 285 3 is_stmt 1 view .LVU35
 157              		.loc 1 285 10 is_stmt 0 view .LVU36
 158 0006 03F44152 		and	r2, r3, #12352
 159              	.LVL17:
 286:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Configure SPIx: direction, NSS management, first transmitted bit, BaudRate prescaler
 287:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****      master/salve mode, CPOL and CPHA */
 288:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Set BIDImode, BIDIOE and RxONLY bits according to SPI_Direction value */
 289:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Set SSM, SSI and MSTR bits according to SPI_Mode and SPI_NSS values */
 290:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Set LSBFirst bit according to SPI_FirstBit value */
 291:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Set BR bits according to SPI_BaudRatePrescaler value */
ARM GAS  /tmp/ccFU370z.s 			page 9


 292:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Set CPOL bit according to SPI_CPOL value */
 293:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Set CPHA bit according to SPI_CPHA value */
 294:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   tmpreg |= (uint16_t)((uint32_t)SPI_InitStruct->SPI_Direction | SPI_InitStruct->SPI_Mode |
 160              		.loc 1 294 3 is_stmt 1 view .LVU37
 161              		.loc 1 294 48 is_stmt 0 view .LVU38
 162 000a B1F800E0 		ldrh	lr, [r1]
 163              		.loc 1 294 80 view .LVU39
 164 000e B1F80280 		ldrh	r8, [r1, #2]
 295:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****                   SPI_InitStruct->SPI_DataSize | SPI_InitStruct->SPI_CPOL |  
 165              		.loc 1 295 33 view .LVU40
 166 0012 B1F804C0 		ldrh	ip, [r1, #4]
 167              		.loc 1 295 64 view .LVU41
 168 0016 CF88     		ldrh	r7, [r1, #6]
 296:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****                   SPI_InitStruct->SPI_CPHA | SPI_InitStruct->SPI_NSS |  
 169              		.loc 1 296 33 view .LVU42
 170 0018 0E89     		ldrh	r6, [r1, #8]
 171              		.loc 1 296 60 view .LVU43
 172 001a 4D89     		ldrh	r5, [r1, #10]
 297:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****                   SPI_InitStruct->SPI_BaudRatePrescaler | SPI_InitStruct->SPI_FirstBit);
 173              		.loc 1 297 33 view .LVU44
 174 001c 8C89     		ldrh	r4, [r1, #12]
 175              		.loc 1 297 73 view .LVU45
 176 001e CB89     		ldrh	r3, [r1, #14]
 294:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****                   SPI_InitStruct->SPI_DataSize | SPI_InitStruct->SPI_CPOL |  
 177              		.loc 1 294 13 view .LVU46
 178 0020 4EEA080E 		orr	lr, lr, r8
 179 0024 4CEA0E0C 		orr	ip, ip, lr
 180 0028 47EA0C07 		orr	r7, r7, ip
 181 002c 3E43     		orrs	r6, r6, r7
 182 002e 3543     		orrs	r5, r5, r6
 183 0030 2C43     		orrs	r4, r4, r5
 184 0032 2343     		orrs	r3, r3, r4
 294:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****                   SPI_InitStruct->SPI_DataSize | SPI_InitStruct->SPI_CPOL |  
 185              		.loc 1 294 10 view .LVU47
 186 0034 1343     		orrs	r3, r3, r2
 187              	.LVL18:
 298:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Write to SPIx CR1 */
 299:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   SPIx->CR1 = tmpreg;
 188              		.loc 1 299 3 is_stmt 1 view .LVU48
 189              		.loc 1 299 13 is_stmt 0 view .LVU49
 190 0036 0380     		strh	r3, [r0]	@ movhi
 300:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 301:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Activate the SPI mode (Reset I2SMOD bit in I2SCFGR register) */
 302:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   SPIx->I2SCFGR &= (uint16_t)~((uint16_t)SPI_I2SCFGR_I2SMOD);
 191              		.loc 1 302 3 is_stmt 1 view .LVU50
 192              		.loc 1 302 17 is_stmt 0 view .LVU51
 193 0038 838B     		ldrh	r3, [r0, #28]
 194              	.LVL19:
 195              		.loc 1 302 17 view .LVU52
 196 003a 9BB2     		uxth	r3, r3
 197 003c 23F40063 		bic	r3, r3, #2048
 198 0040 9BB2     		uxth	r3, r3
 199 0042 8383     		strh	r3, [r0, #28]	@ movhi
 200              	.LVL20:
 303:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /*---------------------------- SPIx CRCPOLY Configuration --------------------*/
 304:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Write to SPIx CRCPOLY */
 305:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   SPIx->CRCPR = SPI_InitStruct->SPI_CRCPolynomial;
ARM GAS  /tmp/ccFU370z.s 			page 10


 201              		.loc 1 305 3 is_stmt 1 view .LVU53
 202              		.loc 1 305 31 is_stmt 0 view .LVU54
 203 0044 0B8A     		ldrh	r3, [r1, #16]
 204              		.loc 1 305 15 view .LVU55
 205 0046 0382     		strh	r3, [r0, #16]	@ movhi
 306:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** }
 206              		.loc 1 306 1 view .LVU56
 207 0048 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 208              		.cfi_endproc
 209              	.LFE131:
 211              		.section	.text.I2S_Init,"ax",%progbits
 212              		.align	1
 213              		.global	I2S_Init
 214              		.syntax unified
 215              		.thumb
 216              		.thumb_func
 217              		.fpu fpv4-sp-d16
 219              	I2S_Init:
 220              	.LVL21:
 221              	.LFB132:
 307:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 308:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /**
 309:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @brief  Initializes the SPIx peripheral according to the specified 
 310:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         parameters in the I2S_InitStruct.
 311:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPIx: where x can be  2 or 3 to select the SPI peripheral (configured in I2S mode).
 312:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  I2S_InitStruct: pointer to an I2S_InitTypeDef structure that
 313:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         contains the configuration information for the specified SPI peripheral
 314:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         configured in I2S mode.
 315:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *           
 316:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @note   The function calculates the optimal prescaler needed to obtain the most 
 317:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         accurate audio frequency (depending on the I2S clock source, the PLL values 
 318:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         and the product configuration). But in case the prescaler value is greater 
 319:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         than 511, the default value (0x02) will be configured instead.    
 320:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * 
 321:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @note   if an external clock is used as source clock for the I2S, then the define
 322:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         I2S_EXTERNAL_CLOCK_VAL in file stm32f4xx_conf.h should be enabled and set
 323:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         to the value of the the source clock frequency (in Hz).
 324:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *  
 325:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @retval None
 326:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
 327:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** void I2S_Init(SPI_TypeDef* SPIx, I2S_InitTypeDef* I2S_InitStruct)
 328:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** {
 222              		.loc 1 328 1 is_stmt 1 view -0
 223              		.cfi_startproc
 224              		@ args = 0, pretend = 0, frame = 0
 225              		@ frame_needed = 0, uses_anonymous_args = 0
 226              		@ link register save eliminated.
 227              		.loc 1 328 1 is_stmt 0 view .LVU58
 228 0000 F0B4     		push	{r4, r5, r6, r7}
 229              	.LCFI2:
 230              		.cfi_def_cfa_offset 16
 231              		.cfi_offset 4, -16
 232              		.cfi_offset 5, -12
 233              		.cfi_offset 6, -8
 234              		.cfi_offset 7, -4
 329:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   uint16_t tmpreg = 0, i2sdiv = 2, i2sodd = 0, packetlength = 1;
 235              		.loc 1 329 3 is_stmt 1 view .LVU59
ARM GAS  /tmp/ccFU370z.s 			page 11


 236              	.LVL22:
 330:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   uint32_t tmp = 0, i2sclk = 0;
 237              		.loc 1 330 3 view .LVU60
 331:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** #ifndef I2S_EXTERNAL_CLOCK_VAL
 332:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   uint32_t pllm = 0, plln = 0, pllr = 0;
 238              		.loc 1 332 3 view .LVU61
 333:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** #endif /* I2S_EXTERNAL_CLOCK_VAL */
 334:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   
 335:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Check the I2S parameters */
 336:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_23_PERIPH(SPIx));
 239              		.loc 1 336 3 view .LVU62
 337:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_I2S_MODE(I2S_InitStruct->I2S_Mode));
 240              		.loc 1 337 3 view .LVU63
 338:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_I2S_STANDARD(I2S_InitStruct->I2S_Standard));
 241              		.loc 1 338 3 view .LVU64
 339:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_I2S_DATA_FORMAT(I2S_InitStruct->I2S_DataFormat));
 242              		.loc 1 339 3 view .LVU65
 340:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_I2S_MCLK_OUTPUT(I2S_InitStruct->I2S_MCLKOutput));
 243              		.loc 1 340 3 view .LVU66
 341:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_I2S_AUDIO_FREQ(I2S_InitStruct->I2S_AudioFreq));
 244              		.loc 1 341 3 view .LVU67
 342:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_I2S_CPOL(I2S_InitStruct->I2S_CPOL));  
 245              		.loc 1 342 3 view .LVU68
 343:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 344:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /*----------------------- SPIx I2SCFGR & I2SPR Configuration -----------------*/
 345:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Clear I2SMOD, I2SE, I2SCFG, PCMSYNC, I2SSTD, CKPOL, DATLEN and CHLEN bits */
 346:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   SPIx->I2SCFGR &= I2SCFGR_CLEAR_MASK; 
 246              		.loc 1 346 3 view .LVU69
 247              		.loc 1 346 17 is_stmt 0 view .LVU70
 248 0002 838B     		ldrh	r3, [r0, #28]
 249 0004 9BB2     		uxth	r3, r3
 250 0006 23F47B63 		bic	r3, r3, #4016
 251 000a 23F00F03 		bic	r3, r3, #15
 252 000e 9BB2     		uxth	r3, r3
 253 0010 8383     		strh	r3, [r0, #28]	@ movhi
 347:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   SPIx->I2SPR = 0x0002;
 254              		.loc 1 347 3 is_stmt 1 view .LVU71
 255              		.loc 1 347 15 is_stmt 0 view .LVU72
 256 0012 0223     		movs	r3, #2
 257 0014 0384     		strh	r3, [r0, #32]	@ movhi
 348:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   
 349:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Get the I2SCFGR register value */
 350:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   tmpreg = SPIx->I2SCFGR;
 258              		.loc 1 350 3 is_stmt 1 view .LVU73
 259              		.loc 1 350 10 is_stmt 0 view .LVU74
 260 0016 828B     		ldrh	r2, [r0, #28]
 261 0018 92B2     		uxth	r2, r2
 262              	.LVL23:
 351:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   
 352:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* If the default value has to be written, reinitialize i2sdiv and i2sodd*/
 353:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   if(I2S_InitStruct->I2S_AudioFreq == I2S_AudioFreq_Default)
 263              		.loc 1 353 3 is_stmt 1 view .LVU75
 264              		.loc 1 353 20 is_stmt 0 view .LVU76
 265 001a 8B68     		ldr	r3, [r1, #8]
 266              		.loc 1 353 5 view .LVU77
 267 001c 022B     		cmp	r3, #2
 268 001e 5CD0     		beq	.L20
ARM GAS  /tmp/ccFU370z.s 			page 12


 354:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
 355:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     i2sodd = (uint16_t)0;
 356:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     i2sdiv = (uint16_t)2;   
 357:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 358:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* If the requested audio frequency is not the default, compute the prescaler */
 359:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   else
 360:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
 361:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Check the frame length (For the Prescaler computing) *******************/
 362:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     if(I2S_InitStruct->I2S_DataFormat == I2S_DataFormat_16b)
 269              		.loc 1 362 5 is_stmt 1 view .LVU78
 270              		.loc 1 362 22 is_stmt 0 view .LVU79
 271 0020 8B88     		ldrh	r3, [r1, #4]
 272              		.loc 1 362 7 view .LVU80
 273 0022 002B     		cmp	r3, #0
 274 0024 4DD1     		bne	.L21
 363:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     {
 364:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       /* Packet length is 16 bits */
 365:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       packetlength = 1;
 275              		.loc 1 365 20 view .LVU81
 276 0026 0127     		movs	r7, #1
 277              	.L15:
 278              	.LVL24:
 366:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     }
 367:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     else
 368:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     {
 369:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       /* Packet length is 32 bits */
 370:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       packetlength = 2;
 371:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     }
 372:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 373:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Get I2S source Clock frequency  ****************************************/
 374:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       
 375:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* If an external I2S clock has to be used, this define should be set  
 376:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****        in the project configuration or in the stm32f4xx_conf.h file */
 377:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   #ifdef I2S_EXTERNAL_CLOCK_VAL     
 378:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Set external clock as I2S clock source */
 379:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     if ((RCC->CFGR & RCC_CFGR_I2SSRC) == 0)
 380:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     {
 381:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       RCC->CFGR |= (uint32_t)RCC_CFGR_I2SSRC;
 382:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     }
 383:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     
 384:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Set the I2S clock to the external clock  value */
 385:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     i2sclk = I2S_EXTERNAL_CLOCK_VAL;
 386:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 387:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   #else /* There is no define for External I2S clock source */
 388:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Set PLLI2S as I2S clock source */
 389:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     if ((RCC->CFGR & RCC_CFGR_I2SSRC) != 0)
 279              		.loc 1 389 5 is_stmt 1 view .LVU82
 280              		.loc 1 389 13 is_stmt 0 view .LVU83
 281 0028 2D4B     		ldr	r3, .L25
 282 002a 9B68     		ldr	r3, [r3, #8]
 283              		.loc 1 389 8 view .LVU84
 284 002c 13F4000F 		tst	r3, #8388608
 285 0030 04D0     		beq	.L16
 390:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     {
 391:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       RCC->CFGR &= ~(uint32_t)RCC_CFGR_I2SSRC;
 286              		.loc 1 391 7 is_stmt 1 view .LVU85
 287              		.loc 1 391 17 is_stmt 0 view .LVU86
ARM GAS  /tmp/ccFU370z.s 			page 13


 288 0032 2B4C     		ldr	r4, .L25
 289 0034 A368     		ldr	r3, [r4, #8]
 290 0036 23F40003 		bic	r3, r3, #8388608
 291 003a A360     		str	r3, [r4, #8]
 292              	.L16:
 392:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     }    
 393:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     
 394:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Get the PLLI2SN value */
 395:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     plln = (uint32_t)(((RCC->PLLI2SCFGR & RCC_PLLI2SCFGR_PLLI2SN) >> 6) & \
 293              		.loc 1 395 5 is_stmt 1 view .LVU87
 294              		.loc 1 395 28 is_stmt 0 view .LVU88
 295 003c 284D     		ldr	r5, .L25
 296 003e D5F88430 		ldr	r3, [r5, #132]
 297              		.loc 1 395 10 view .LVU89
 298 0042 C3F38813 		ubfx	r3, r3, #6, #9
 299              	.LVL25:
 396:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****                       (RCC_PLLI2SCFGR_PLLI2SN >> 6));
 397:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     
 398:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Get the PLLI2SR value */
 399:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     pllr = (uint32_t)(((RCC->PLLI2SCFGR & RCC_PLLI2SCFGR_PLLI2SR) >> 28) & \
 300              		.loc 1 399 5 is_stmt 1 view .LVU90
 301              		.loc 1 399 28 is_stmt 0 view .LVU91
 302 0046 D5F88440 		ldr	r4, [r5, #132]
 303              		.loc 1 399 10 view .LVU92
 304 004a C4F30274 		ubfx	r4, r4, #28, #3
 305              	.LVL26:
 400:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****                       (RCC_PLLI2SCFGR_PLLI2SR >> 28));
 401:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     
 402:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Get the PLLM value */
 403:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     pllm = (uint32_t)(RCC->PLLCFGR & RCC_PLLCFGR_PLLM);      
 306              		.loc 1 403 5 is_stmt 1 view .LVU93
 307              		.loc 1 403 26 is_stmt 0 view .LVU94
 308 004e 6E68     		ldr	r6, [r5, #4]
 309              		.loc 1 403 10 view .LVU95
 310 0050 06F03F06 		and	r6, r6, #63
 311              	.LVL27:
 404:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     
 405:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Get the I2S source clock value */
 406:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     i2sclk = (uint32_t)(((HSE_VALUE / pllm) * plln) / pllr);
 312              		.loc 1 406 5 is_stmt 1 view .LVU96
 313              		.loc 1 406 37 is_stmt 0 view .LVU97
 314 0054 234D     		ldr	r5, .L25+4
 315 0056 B5FBF6F5 		udiv	r5, r5, r6
 316              		.loc 1 406 45 view .LVU98
 317 005a 03FB05F3 		mul	r3, r3, r5
 318              	.LVL28:
 319              		.loc 1 406 12 view .LVU99
 320 005e B3FBF4F3 		udiv	r3, r3, r4
 321              	.LVL29:
 407:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   #endif /* I2S_EXTERNAL_CLOCK_VAL */
 408:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     
 409:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Compute the Real divider depending on the MCLK output state, with a floating point */
 410:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     if(I2S_InitStruct->I2S_MCLKOutput == I2S_MCLKOutput_Enable)
 322              		.loc 1 410 5 is_stmt 1 view .LVU100
 323              		.loc 1 410 22 is_stmt 0 view .LVU101
 324 0062 CC88     		ldrh	r4, [r1, #6]
 325              	.LVL30:
ARM GAS  /tmp/ccFU370z.s 			page 14


 326              		.loc 1 410 7 view .LVU102
 327 0064 B4F5007F 		cmp	r4, #512
 328 0068 2DD0     		beq	.L24
 411:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     {
 412:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       /* MCLK output is enabled */
 413:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       tmp = (uint16_t)(((((i2sclk / 256) * 10) / I2S_InitStruct->I2S_AudioFreq)) + 5);
 414:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     }
 415:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     else
 416:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     {
 417:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       /* MCLK output is disabled */
 418:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       tmp = (uint16_t)(((((i2sclk / (32 * packetlength)) *10 ) / I2S_InitStruct->I2S_AudioFreq)) + 
 329              		.loc 1 418 7 is_stmt 1 view .LVU103
 330              		.loc 1 418 41 is_stmt 0 view .LVU104
 331 006a 7F01     		lsls	r7, r7, #5
 332              	.LVL31:
 333              		.loc 1 418 35 view .LVU105
 334 006c B3FBF7F3 		udiv	r3, r3, r7
 335              	.LVL32:
 336              		.loc 1 418 58 view .LVU106
 337 0070 03EB8303 		add	r3, r3, r3, lsl #2
 338 0074 5B00     		lsls	r3, r3, #1
 339              		.loc 1 418 80 view .LVU107
 340 0076 8C68     		ldr	r4, [r1, #8]
 341              		.loc 1 418 64 view .LVU108
 342 0078 B3FBF4F3 		udiv	r3, r3, r4
 343              		.loc 1 418 13 view .LVU109
 344 007c 0533     		adds	r3, r3, #5
 345 007e 9BB2     		uxth	r3, r3
 346              	.LVL33:
 347              	.L18:
 419:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     }
 420:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     
 421:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Remove the flatting point */
 422:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     tmp = tmp / 10;  
 348              		.loc 1 422 5 is_stmt 1 view .LVU110
 349              		.loc 1 422 9 is_stmt 0 view .LVU111
 350 0080 194C     		ldr	r4, .L25+8
 351 0082 A4FB0343 		umull	r4, r3, r4, r3
 352              	.LVL34:
 423:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       
 424:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Check the parity of the divider */
 425:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     i2sodd = (uint16_t)(tmp & (uint16_t)0x0001);
 353              		.loc 1 425 5 is_stmt 1 view .LVU112
 354              		.loc 1 425 12 is_stmt 0 view .LVU113
 355 0086 C3F3C004 		ubfx	r4, r3, #3, #1
 356              	.LVL35:
 426:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****    
 427:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Compute the i2sdiv prescaler */
 428:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     i2sdiv = (uint16_t)((tmp - i2sodd) / 2);
 357              		.loc 1 428 5 is_stmt 1 view .LVU114
 358              		.loc 1 428 30 is_stmt 0 view .LVU115
 359 008a C4EBD303 		rsb	r3, r4, r3, lsr #3
 360              	.LVL36:
 361              		.loc 1 428 12 view .LVU116
 362 008e C3F34F03 		ubfx	r3, r3, #1, #16
 363              	.LVL37:
 429:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****    
ARM GAS  /tmp/ccFU370z.s 			page 15


 430:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Get the Mask for the Odd bit (SPI_I2SPR[8]) register */
 431:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     i2sodd = (uint16_t) (i2sodd << 8);
 364              		.loc 1 431 5 is_stmt 1 view .LVU117
 365              		.loc 1 431 12 is_stmt 0 view .LVU118
 366 0092 2502     		lsls	r5, r4, #8
 367              	.LVL38:
 368              	.L14:
 432:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 433:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 434:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Test if the divider is 1 or 0 or greater than 0xFF */
 435:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   if ((i2sdiv < 2) || (i2sdiv > 0xFF))
 369              		.loc 1 435 3 is_stmt 1 view .LVU119
 370              		.loc 1 435 20 is_stmt 0 view .LVU120
 371 0094 9C1E     		subs	r4, r3, #2
 372 0096 A4B2     		uxth	r4, r4
 373              		.loc 1 435 6 view .LVU121
 374 0098 FD2C     		cmp	r4, #253
 375 009a 01D9     		bls	.L19
 436:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
 437:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Set the default values */
 438:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     i2sdiv = 2;
 439:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     i2sodd = 0;
 376              		.loc 1 439 12 view .LVU122
 377 009c 0025     		movs	r5, #0
 378              	.LVL39:
 438:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     i2sodd = 0;
 379              		.loc 1 438 12 view .LVU123
 380 009e 0223     		movs	r3, #2
 381              	.LVL40:
 382              	.L19:
 440:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 441:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 442:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Write to SPIx I2SPR register the computed value */
 443:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   SPIx->I2SPR = (uint16_t)((uint16_t)i2sdiv | (uint16_t)(i2sodd | (uint16_t)I2S_InitStruct->I2S_MCL
 383              		.loc 1 443 3 is_stmt 1 view .LVU124
 384              		.loc 1 443 91 is_stmt 0 view .LVU125
 385 00a0 CC88     		ldrh	r4, [r1, #6]
 386              		.loc 1 443 47 view .LVU126
 387 00a2 2C43     		orrs	r4, r4, r5
 388              		.loc 1 443 17 view .LVU127
 389 00a4 2343     		orrs	r3, r3, r4
 390              	.LVL41:
 391              		.loc 1 443 15 view .LVU128
 392 00a6 0384     		strh	r3, [r0, #32]	@ movhi
 444:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  
 445:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Configure the I2S with the SPI_InitStruct values */
 446:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   tmpreg |= (uint16_t)((uint16_t)SPI_I2SCFGR_I2SMOD | (uint16_t)(I2S_InitStruct->I2S_Mode | \
 393              		.loc 1 446 3 is_stmt 1 view .LVU129
 394              		.loc 1 446 80 is_stmt 0 view .LVU130
 395 00a8 0B88     		ldrh	r3, [r1]
 447:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****                   (uint16_t)(I2S_InitStruct->I2S_Standard | (uint16_t)(I2S_InitStruct->I2S_DataForm
 396              		.loc 1 447 44 view .LVU131
 397 00aa 4C88     		ldrh	r4, [r1, #2]
 398              		.loc 1 447 86 view .LVU132
 399 00ac 8D88     		ldrh	r5, [r1, #4]
 400              	.LVL42:
 448:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****                   (uint16_t)I2S_InitStruct->I2S_CPOL))));
ARM GAS  /tmp/ccFU370z.s 			page 16


 401              		.loc 1 448 43 view .LVU133
 402 00ae 8989     		ldrh	r1, [r1, #12]
 403              	.LVL43:
 447:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****                   (uint16_t)(I2S_InitStruct->I2S_Standard | (uint16_t)(I2S_InitStruct->I2S_DataForm
 404              		.loc 1 447 61 view .LVU134
 405 00b0 2943     		orrs	r1, r1, r5
 447:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****                   (uint16_t)(I2S_InitStruct->I2S_Standard | (uint16_t)(I2S_InitStruct->I2S_DataForm
 406              		.loc 1 447 19 view .LVU135
 407 00b2 2143     		orrs	r1, r1, r4
 446:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****                   (uint16_t)(I2S_InitStruct->I2S_Standard | (uint16_t)(I2S_InitStruct->I2S_DataForm
 408              		.loc 1 446 55 view .LVU136
 409 00b4 0B43     		orrs	r3, r3, r1
 446:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****                   (uint16_t)(I2S_InitStruct->I2S_Standard | (uint16_t)(I2S_InitStruct->I2S_DataForm
 410              		.loc 1 446 10 view .LVU137
 411 00b6 1A43     		orrs	r2, r2, r3
 412              	.LVL44:
 446:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****                   (uint16_t)(I2S_InitStruct->I2S_Standard | (uint16_t)(I2S_InitStruct->I2S_DataForm
 413              		.loc 1 446 10 view .LVU138
 414 00b8 42F40062 		orr	r2, r2, #2048
 415              	.LVL45:
 449:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  
 450:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Write to SPIx I2SCFGR */  
 451:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   SPIx->I2SCFGR = tmpreg;
 416              		.loc 1 451 3 is_stmt 1 view .LVU139
 417              		.loc 1 451 17 is_stmt 0 view .LVU140
 418 00bc 8283     		strh	r2, [r0, #28]	@ movhi
 452:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** }
 419              		.loc 1 452 1 view .LVU141
 420 00be F0BC     		pop	{r4, r5, r6, r7}
 421              	.LCFI3:
 422              		.cfi_remember_state
 423              		.cfi_restore 7
 424              		.cfi_restore 6
 425              		.cfi_restore 5
 426              		.cfi_restore 4
 427              		.cfi_def_cfa_offset 0
 428 00c0 7047     		bx	lr
 429              	.LVL46:
 430              	.L21:
 431              	.LCFI4:
 432              		.cfi_restore_state
 370:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     }
 433              		.loc 1 370 20 view .LVU142
 434 00c2 0227     		movs	r7, #2
 435 00c4 B0E7     		b	.L15
 436              	.LVL47:
 437              	.L24:
 413:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     }
 438              		.loc 1 413 7 is_stmt 1 view .LVU143
 413:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     }
 439              		.loc 1 413 35 is_stmt 0 view .LVU144
 440 00c6 1B0A     		lsrs	r3, r3, #8
 441              	.LVL48:
 413:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     }
 442              		.loc 1 413 42 view .LVU145
 443 00c8 03EB8303 		add	r3, r3, r3, lsl #2
 444 00cc 5B00     		lsls	r3, r3, #1
ARM GAS  /tmp/ccFU370z.s 			page 17


 413:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     }
 445              		.loc 1 413 64 view .LVU146
 446 00ce 8C68     		ldr	r4, [r1, #8]
 413:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     }
 447              		.loc 1 413 48 view .LVU147
 448 00d0 B3FBF4F3 		udiv	r3, r3, r4
 413:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     }
 449              		.loc 1 413 13 view .LVU148
 450 00d4 0533     		adds	r3, r3, #5
 451 00d6 9BB2     		uxth	r3, r3
 452              	.LVL49:
 413:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     }
 453              		.loc 1 413 13 view .LVU149
 454 00d8 D2E7     		b	.L18
 455              	.LVL50:
 456              	.L20:
 355:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     i2sdiv = (uint16_t)2;   
 457              		.loc 1 355 12 view .LVU150
 458 00da 0025     		movs	r5, #0
 356:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 459              		.loc 1 356 12 view .LVU151
 460 00dc 0223     		movs	r3, #2
 461 00de D9E7     		b	.L14
 462              	.L26:
 463              		.align	2
 464              	.L25:
 465 00e0 00380240 		.word	1073887232
 466 00e4 40787D01 		.word	25000000
 467 00e8 CDCCCCCC 		.word	-858993459
 468              		.cfi_endproc
 469              	.LFE132:
 471              		.section	.text.SPI_StructInit,"ax",%progbits
 472              		.align	1
 473              		.global	SPI_StructInit
 474              		.syntax unified
 475              		.thumb
 476              		.thumb_func
 477              		.fpu fpv4-sp-d16
 479              	SPI_StructInit:
 480              	.LVL51:
 481              	.LFB133:
 453:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 454:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /**
 455:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @brief  Fills each SPI_InitStruct member with its default value.
 456:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPI_InitStruct: pointer to a SPI_InitTypeDef structure which will be initialized.
 457:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @retval None
 458:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
 459:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** void SPI_StructInit(SPI_InitTypeDef* SPI_InitStruct)
 460:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** {
 482              		.loc 1 460 1 is_stmt 1 view -0
 483              		.cfi_startproc
 484              		@ args = 0, pretend = 0, frame = 0
 485              		@ frame_needed = 0, uses_anonymous_args = 0
 486              		@ link register save eliminated.
 461:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /*--------------- Reset SPI init structure parameters values -----------------*/
 462:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Initialize the SPI_Direction member */
 463:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   SPI_InitStruct->SPI_Direction = SPI_Direction_2Lines_FullDuplex;
ARM GAS  /tmp/ccFU370z.s 			page 18


 487              		.loc 1 463 3 view .LVU153
 488              		.loc 1 463 33 is_stmt 0 view .LVU154
 489 0000 0023     		movs	r3, #0
 490 0002 0380     		strh	r3, [r0]	@ movhi
 464:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* initialize the SPI_Mode member */
 465:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   SPI_InitStruct->SPI_Mode = SPI_Mode_Slave;
 491              		.loc 1 465 3 is_stmt 1 view .LVU155
 492              		.loc 1 465 28 is_stmt 0 view .LVU156
 493 0004 4380     		strh	r3, [r0, #2]	@ movhi
 466:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* initialize the SPI_DataSize member */
 467:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   SPI_InitStruct->SPI_DataSize = SPI_DataSize_8b;
 494              		.loc 1 467 3 is_stmt 1 view .LVU157
 495              		.loc 1 467 32 is_stmt 0 view .LVU158
 496 0006 8380     		strh	r3, [r0, #4]	@ movhi
 468:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Initialize the SPI_CPOL member */
 469:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   SPI_InitStruct->SPI_CPOL = SPI_CPOL_Low;
 497              		.loc 1 469 3 is_stmt 1 view .LVU159
 498              		.loc 1 469 28 is_stmt 0 view .LVU160
 499 0008 C380     		strh	r3, [r0, #6]	@ movhi
 470:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Initialize the SPI_CPHA member */
 471:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   SPI_InitStruct->SPI_CPHA = SPI_CPHA_1Edge;
 500              		.loc 1 471 3 is_stmt 1 view .LVU161
 501              		.loc 1 471 28 is_stmt 0 view .LVU162
 502 000a 0381     		strh	r3, [r0, #8]	@ movhi
 472:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Initialize the SPI_NSS member */
 473:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   SPI_InitStruct->SPI_NSS = SPI_NSS_Hard;
 503              		.loc 1 473 3 is_stmt 1 view .LVU163
 504              		.loc 1 473 27 is_stmt 0 view .LVU164
 505 000c 4381     		strh	r3, [r0, #10]	@ movhi
 474:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Initialize the SPI_BaudRatePrescaler member */
 475:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   SPI_InitStruct->SPI_BaudRatePrescaler = SPI_BaudRatePrescaler_2;
 506              		.loc 1 475 3 is_stmt 1 view .LVU165
 507              		.loc 1 475 41 is_stmt 0 view .LVU166
 508 000e 8381     		strh	r3, [r0, #12]	@ movhi
 476:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Initialize the SPI_FirstBit member */
 477:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   SPI_InitStruct->SPI_FirstBit = SPI_FirstBit_MSB;
 509              		.loc 1 477 3 is_stmt 1 view .LVU167
 510              		.loc 1 477 32 is_stmt 0 view .LVU168
 511 0010 C381     		strh	r3, [r0, #14]	@ movhi
 478:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Initialize the SPI_CRCPolynomial member */
 479:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   SPI_InitStruct->SPI_CRCPolynomial = 7;
 512              		.loc 1 479 3 is_stmt 1 view .LVU169
 513              		.loc 1 479 37 is_stmt 0 view .LVU170
 514 0012 0723     		movs	r3, #7
 515 0014 0382     		strh	r3, [r0, #16]	@ movhi
 480:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** }
 516              		.loc 1 480 1 view .LVU171
 517 0016 7047     		bx	lr
 518              		.cfi_endproc
 519              	.LFE133:
 521              		.section	.text.I2S_StructInit,"ax",%progbits
 522              		.align	1
 523              		.global	I2S_StructInit
 524              		.syntax unified
 525              		.thumb
 526              		.thumb_func
 527              		.fpu fpv4-sp-d16
ARM GAS  /tmp/ccFU370z.s 			page 19


 529              	I2S_StructInit:
 530              	.LVL52:
 531              	.LFB134:
 481:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 482:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /**
 483:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @brief  Fills each I2S_InitStruct member with its default value.
 484:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  I2S_InitStruct: pointer to a I2S_InitTypeDef structure which will be initialized.
 485:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @retval None
 486:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
 487:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** void I2S_StructInit(I2S_InitTypeDef* I2S_InitStruct)
 488:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** {
 532              		.loc 1 488 1 is_stmt 1 view -0
 533              		.cfi_startproc
 534              		@ args = 0, pretend = 0, frame = 0
 535              		@ frame_needed = 0, uses_anonymous_args = 0
 536              		@ link register save eliminated.
 489:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /*--------------- Reset I2S init structure parameters values -----------------*/
 490:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Initialize the I2S_Mode member */
 491:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   I2S_InitStruct->I2S_Mode = I2S_Mode_SlaveTx;
 537              		.loc 1 491 3 view .LVU173
 538              		.loc 1 491 28 is_stmt 0 view .LVU174
 539 0000 0023     		movs	r3, #0
 540 0002 0380     		strh	r3, [r0]	@ movhi
 492:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   
 493:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Initialize the I2S_Standard member */
 494:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   I2S_InitStruct->I2S_Standard = I2S_Standard_Phillips;
 541              		.loc 1 494 3 is_stmt 1 view .LVU175
 542              		.loc 1 494 32 is_stmt 0 view .LVU176
 543 0004 4380     		strh	r3, [r0, #2]	@ movhi
 495:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   
 496:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Initialize the I2S_DataFormat member */
 497:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   I2S_InitStruct->I2S_DataFormat = I2S_DataFormat_16b;
 544              		.loc 1 497 3 is_stmt 1 view .LVU177
 545              		.loc 1 497 34 is_stmt 0 view .LVU178
 546 0006 8380     		strh	r3, [r0, #4]	@ movhi
 498:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   
 499:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Initialize the I2S_MCLKOutput member */
 500:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   I2S_InitStruct->I2S_MCLKOutput = I2S_MCLKOutput_Disable;
 547              		.loc 1 500 3 is_stmt 1 view .LVU179
 548              		.loc 1 500 34 is_stmt 0 view .LVU180
 549 0008 C380     		strh	r3, [r0, #6]	@ movhi
 501:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   
 502:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Initialize the I2S_AudioFreq member */
 503:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   I2S_InitStruct->I2S_AudioFreq = I2S_AudioFreq_Default;
 550              		.loc 1 503 3 is_stmt 1 view .LVU181
 551              		.loc 1 503 33 is_stmt 0 view .LVU182
 552 000a 0222     		movs	r2, #2
 553 000c 8260     		str	r2, [r0, #8]
 504:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   
 505:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Initialize the I2S_CPOL member */
 506:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   I2S_InitStruct->I2S_CPOL = I2S_CPOL_Low;
 554              		.loc 1 506 3 is_stmt 1 view .LVU183
 555              		.loc 1 506 28 is_stmt 0 view .LVU184
 556 000e 8381     		strh	r3, [r0, #12]	@ movhi
 507:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** }
 557              		.loc 1 507 1 view .LVU185
 558 0010 7047     		bx	lr
ARM GAS  /tmp/ccFU370z.s 			page 20


 559              		.cfi_endproc
 560              	.LFE134:
 562              		.section	.text.SPI_Cmd,"ax",%progbits
 563              		.align	1
 564              		.global	SPI_Cmd
 565              		.syntax unified
 566              		.thumb
 567              		.thumb_func
 568              		.fpu fpv4-sp-d16
 570              	SPI_Cmd:
 571              	.LVL53:
 572              	.LFB135:
 508:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 509:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /**
 510:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @brief  Enables or disables the specified SPI peripheral.
 511:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPIx: where x can be 1, 2 or 3 to select the SPI peripheral.
 512:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  NewState: new state of the SPIx peripheral. 
 513:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          This parameter can be: ENABLE or DISABLE.
 514:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @retval None
 515:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
 516:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** void SPI_Cmd(SPI_TypeDef* SPIx, FunctionalState NewState)
 517:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** {
 573              		.loc 1 517 1 is_stmt 1 view -0
 574              		.cfi_startproc
 575              		@ args = 0, pretend = 0, frame = 0
 576              		@ frame_needed = 0, uses_anonymous_args = 0
 577              		@ link register save eliminated.
 518:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Check the parameters */
 519:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 578              		.loc 1 519 3 view .LVU187
 520:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 579              		.loc 1 520 3 view .LVU188
 521:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   if (NewState != DISABLE)
 580              		.loc 1 521 3 view .LVU189
 581              		.loc 1 521 6 is_stmt 0 view .LVU190
 582 0000 29B1     		cbz	r1, .L30
 522:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
 523:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Enable the selected SPI peripheral */
 524:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     SPIx->CR1 |= SPI_CR1_SPE;
 583              		.loc 1 524 5 is_stmt 1 view .LVU191
 584              		.loc 1 524 15 is_stmt 0 view .LVU192
 585 0002 0388     		ldrh	r3, [r0]
 586 0004 9BB2     		uxth	r3, r3
 587 0006 43F04003 		orr	r3, r3, #64
 588 000a 0380     		strh	r3, [r0]	@ movhi
 589 000c 7047     		bx	lr
 590              	.L30:
 525:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 526:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   else
 527:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
 528:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Disable the selected SPI peripheral */
 529:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     SPIx->CR1 &= (uint16_t)~((uint16_t)SPI_CR1_SPE);
 591              		.loc 1 529 5 is_stmt 1 view .LVU193
 592              		.loc 1 529 15 is_stmt 0 view .LVU194
 593 000e 0388     		ldrh	r3, [r0]
 594 0010 9BB2     		uxth	r3, r3
 595 0012 23F04003 		bic	r3, r3, #64
ARM GAS  /tmp/ccFU370z.s 			page 21


 596 0016 9BB2     		uxth	r3, r3
 597 0018 0380     		strh	r3, [r0]	@ movhi
 530:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 531:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** }
 598              		.loc 1 531 1 view .LVU195
 599 001a 7047     		bx	lr
 600              		.cfi_endproc
 601              	.LFE135:
 603              		.section	.text.I2S_Cmd,"ax",%progbits
 604              		.align	1
 605              		.global	I2S_Cmd
 606              		.syntax unified
 607              		.thumb
 608              		.thumb_func
 609              		.fpu fpv4-sp-d16
 611              	I2S_Cmd:
 612              	.LVL54:
 613              	.LFB136:
 532:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 533:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /**
 534:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @brief  Enables or disables the specified SPI peripheral (in I2S mode).
 535:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPIx: where x can be 2 or 3 to select the SPI peripheral (or I2Sxext 
 536:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         for full duplex mode).
 537:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  NewState: new state of the SPIx peripheral. 
 538:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         This parameter can be: ENABLE or DISABLE.
 539:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @retval None
 540:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
 541:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** void I2S_Cmd(SPI_TypeDef* SPIx, FunctionalState NewState)
 542:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** {
 614              		.loc 1 542 1 is_stmt 1 view -0
 615              		.cfi_startproc
 616              		@ args = 0, pretend = 0, frame = 0
 617              		@ frame_needed = 0, uses_anonymous_args = 0
 618              		@ link register save eliminated.
 543:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Check the parameters */
 544:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_23_PERIPH_EXT(SPIx));
 619              		.loc 1 544 3 view .LVU197
 545:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 620              		.loc 1 545 3 view .LVU198
 546:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   
 547:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   if (NewState != DISABLE)
 621              		.loc 1 547 3 view .LVU199
 622              		.loc 1 547 6 is_stmt 0 view .LVU200
 623 0000 29B1     		cbz	r1, .L33
 548:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
 549:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Enable the selected SPI peripheral (in I2S mode) */
 550:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     SPIx->I2SCFGR |= SPI_I2SCFGR_I2SE;
 624              		.loc 1 550 5 is_stmt 1 view .LVU201
 625              		.loc 1 550 19 is_stmt 0 view .LVU202
 626 0002 838B     		ldrh	r3, [r0, #28]
 627 0004 9BB2     		uxth	r3, r3
 628 0006 43F48063 		orr	r3, r3, #1024
 629 000a 8383     		strh	r3, [r0, #28]	@ movhi
 630 000c 7047     		bx	lr
 631              	.L33:
 551:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 552:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   else
ARM GAS  /tmp/ccFU370z.s 			page 22


 553:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
 554:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Disable the selected SPI peripheral in I2S mode */
 555:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     SPIx->I2SCFGR &= (uint16_t)~((uint16_t)SPI_I2SCFGR_I2SE);
 632              		.loc 1 555 5 is_stmt 1 view .LVU203
 633              		.loc 1 555 19 is_stmt 0 view .LVU204
 634 000e 838B     		ldrh	r3, [r0, #28]
 635 0010 9BB2     		uxth	r3, r3
 636 0012 23F48063 		bic	r3, r3, #1024
 637 0016 9BB2     		uxth	r3, r3
 638 0018 8383     		strh	r3, [r0, #28]	@ movhi
 556:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 557:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** }
 639              		.loc 1 557 1 view .LVU205
 640 001a 7047     		bx	lr
 641              		.cfi_endproc
 642              	.LFE136:
 644              		.section	.text.SPI_DataSizeConfig,"ax",%progbits
 645              		.align	1
 646              		.global	SPI_DataSizeConfig
 647              		.syntax unified
 648              		.thumb
 649              		.thumb_func
 650              		.fpu fpv4-sp-d16
 652              	SPI_DataSizeConfig:
 653              	.LVL55:
 654              	.LFB137:
 558:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 559:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /**
 560:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @brief  Configures the data size for the selected SPI.
 561:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPIx: where x can be 1, 2 or 3 to select the SPI peripheral.
 562:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPI_DataSize: specifies the SPI data size.
 563:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          This parameter can be one of the following values:
 564:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            @arg SPI_DataSize_16b: Set data frame format to 16bit
 565:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            @arg SPI_DataSize_8b: Set data frame format to 8bit
 566:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @retval None
 567:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
 568:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** void SPI_DataSizeConfig(SPI_TypeDef* SPIx, uint16_t SPI_DataSize)
 569:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** {
 655              		.loc 1 569 1 is_stmt 1 view -0
 656              		.cfi_startproc
 657              		@ args = 0, pretend = 0, frame = 0
 658              		@ frame_needed = 0, uses_anonymous_args = 0
 659              		@ link register save eliminated.
 570:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Check the parameters */
 571:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 660              		.loc 1 571 3 view .LVU207
 572:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_DATASIZE(SPI_DataSize));
 661              		.loc 1 572 3 view .LVU208
 573:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Clear DFF bit */
 574:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   SPIx->CR1 &= (uint16_t)~SPI_DataSize_16b;
 662              		.loc 1 574 3 view .LVU209
 663              		.loc 1 574 13 is_stmt 0 view .LVU210
 664 0000 0388     		ldrh	r3, [r0]
 665 0002 9BB2     		uxth	r3, r3
 666 0004 23F40063 		bic	r3, r3, #2048
 667 0008 9BB2     		uxth	r3, r3
 668 000a 0380     		strh	r3, [r0]	@ movhi
ARM GAS  /tmp/ccFU370z.s 			page 23


 575:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Set new DFF bit value */
 576:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   SPIx->CR1 |= SPI_DataSize;
 669              		.loc 1 576 3 is_stmt 1 view .LVU211
 670              		.loc 1 576 13 is_stmt 0 view .LVU212
 671 000c 0388     		ldrh	r3, [r0]
 672 000e 9BB2     		uxth	r3, r3
 673 0010 0B43     		orrs	r3, r3, r1
 674 0012 0380     		strh	r3, [r0]	@ movhi
 577:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** }
 675              		.loc 1 577 1 view .LVU213
 676 0014 7047     		bx	lr
 677              		.cfi_endproc
 678              	.LFE137:
 680              		.section	.text.SPI_BiDirectionalLineConfig,"ax",%progbits
 681              		.align	1
 682              		.global	SPI_BiDirectionalLineConfig
 683              		.syntax unified
 684              		.thumb
 685              		.thumb_func
 686              		.fpu fpv4-sp-d16
 688              	SPI_BiDirectionalLineConfig:
 689              	.LVL56:
 690              	.LFB138:
 578:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 579:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /**
 580:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @brief  Selects the data transfer direction in bidirectional mode for the specified SPI.
 581:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPIx: where x can be 1, 2 or 3 to select the SPI peripheral.
 582:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPI_Direction: specifies the data transfer direction in bidirectional mode. 
 583:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          This parameter can be one of the following values:
 584:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            @arg SPI_Direction_Tx: Selects Tx transmission direction
 585:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            @arg SPI_Direction_Rx: Selects Rx receive direction
 586:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @retval None
 587:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
 588:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** void SPI_BiDirectionalLineConfig(SPI_TypeDef* SPIx, uint16_t SPI_Direction)
 589:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** {
 691              		.loc 1 589 1 is_stmt 1 view -0
 692              		.cfi_startproc
 693              		@ args = 0, pretend = 0, frame = 0
 694              		@ frame_needed = 0, uses_anonymous_args = 0
 695              		@ link register save eliminated.
 590:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Check the parameters */
 591:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 696              		.loc 1 591 3 view .LVU215
 592:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_DIRECTION(SPI_Direction));
 697              		.loc 1 592 3 view .LVU216
 593:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   if (SPI_Direction == SPI_Direction_Tx)
 698              		.loc 1 593 3 view .LVU217
 699              		.loc 1 593 6 is_stmt 0 view .LVU218
 700 0000 B1F5804F 		cmp	r1, #16384
 701 0004 06D0     		beq	.L39
 594:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
 595:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Set the Tx only mode */
 596:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     SPIx->CR1 |= SPI_Direction_Tx;
 597:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 598:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   else
 599:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
 600:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Set the Rx only mode */
ARM GAS  /tmp/ccFU370z.s 			page 24


 601:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     SPIx->CR1 &= SPI_Direction_Rx;
 702              		.loc 1 601 5 is_stmt 1 view .LVU219
 703              		.loc 1 601 15 is_stmt 0 view .LVU220
 704 0006 0388     		ldrh	r3, [r0]
 705 0008 9BB2     		uxth	r3, r3
 706 000a 23F48043 		bic	r3, r3, #16384
 707 000e 9BB2     		uxth	r3, r3
 708 0010 0380     		strh	r3, [r0]	@ movhi
 602:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 603:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** }
 709              		.loc 1 603 1 view .LVU221
 710 0012 7047     		bx	lr
 711              	.L39:
 596:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 712              		.loc 1 596 5 is_stmt 1 view .LVU222
 596:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 713              		.loc 1 596 15 is_stmt 0 view .LVU223
 714 0014 0388     		ldrh	r3, [r0]
 715 0016 9BB2     		uxth	r3, r3
 716 0018 43F48043 		orr	r3, r3, #16384
 717 001c 0380     		strh	r3, [r0]	@ movhi
 718 001e 7047     		bx	lr
 719              		.cfi_endproc
 720              	.LFE138:
 722              		.section	.text.SPI_NSSInternalSoftwareConfig,"ax",%progbits
 723              		.align	1
 724              		.global	SPI_NSSInternalSoftwareConfig
 725              		.syntax unified
 726              		.thumb
 727              		.thumb_func
 728              		.fpu fpv4-sp-d16
 730              	SPI_NSSInternalSoftwareConfig:
 731              	.LVL57:
 732              	.LFB139:
 604:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 605:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /**
 606:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @brief  Configures internally by software the NSS pin for the selected SPI.
 607:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPIx: where x can be 1, 2 or 3 to select the SPI peripheral.
 608:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPI_NSSInternalSoft: specifies the SPI NSS internal state.
 609:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          This parameter can be one of the following values:
 610:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            @arg SPI_NSSInternalSoft_Set: Set NSS pin internally
 611:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            @arg SPI_NSSInternalSoft_Reset: Reset NSS pin internally
 612:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @retval None
 613:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
 614:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** void SPI_NSSInternalSoftwareConfig(SPI_TypeDef* SPIx, uint16_t SPI_NSSInternalSoft)
 615:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** {
 733              		.loc 1 615 1 is_stmt 1 view -0
 734              		.cfi_startproc
 735              		@ args = 0, pretend = 0, frame = 0
 736              		@ frame_needed = 0, uses_anonymous_args = 0
 737              		@ link register save eliminated.
 616:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Check the parameters */
 617:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 738              		.loc 1 617 3 view .LVU225
 618:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_NSS_INTERNAL(SPI_NSSInternalSoft));
 739              		.loc 1 618 3 view .LVU226
 619:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   if (SPI_NSSInternalSoft != SPI_NSSInternalSoft_Reset)
ARM GAS  /tmp/ccFU370z.s 			page 25


 740              		.loc 1 619 3 view .LVU227
 741              		.loc 1 619 6 is_stmt 0 view .LVU228
 742 0000 4FF6FF63 		movw	r3, #65279
 743 0004 9942     		cmp	r1, r3
 744 0006 05D0     		beq	.L41
 620:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
 621:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Set NSS pin internally by software */
 622:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     SPIx->CR1 |= SPI_NSSInternalSoft_Set;
 745              		.loc 1 622 5 is_stmt 1 view .LVU229
 746              		.loc 1 622 15 is_stmt 0 view .LVU230
 747 0008 0388     		ldrh	r3, [r0]
 748 000a 9BB2     		uxth	r3, r3
 749 000c 43F48073 		orr	r3, r3, #256
 750 0010 0380     		strh	r3, [r0]	@ movhi
 751 0012 7047     		bx	lr
 752              	.L41:
 623:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 624:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   else
 625:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
 626:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Reset NSS pin internally by software */
 627:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     SPIx->CR1 &= SPI_NSSInternalSoft_Reset;
 753              		.loc 1 627 5 is_stmt 1 view .LVU231
 754              		.loc 1 627 15 is_stmt 0 view .LVU232
 755 0014 0388     		ldrh	r3, [r0]
 756 0016 9BB2     		uxth	r3, r3
 757 0018 23F48073 		bic	r3, r3, #256
 758 001c 9BB2     		uxth	r3, r3
 759 001e 0380     		strh	r3, [r0]	@ movhi
 628:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 629:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** }
 760              		.loc 1 629 1 view .LVU233
 761 0020 7047     		bx	lr
 762              		.cfi_endproc
 763              	.LFE139:
 765              		.section	.text.SPI_SSOutputCmd,"ax",%progbits
 766              		.align	1
 767              		.global	SPI_SSOutputCmd
 768              		.syntax unified
 769              		.thumb
 770              		.thumb_func
 771              		.fpu fpv4-sp-d16
 773              	SPI_SSOutputCmd:
 774              	.LVL58:
 775              	.LFB140:
 630:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 631:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /**
 632:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @brief  Enables or disables the SS output for the selected SPI.
 633:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPIx: where x can be 1, 2 or 3 to select the SPI peripheral.
 634:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  NewState: new state of the SPIx SS output. 
 635:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          This parameter can be: ENABLE or DISABLE.
 636:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @retval None
 637:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
 638:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** void SPI_SSOutputCmd(SPI_TypeDef* SPIx, FunctionalState NewState)
 639:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** {
 776              		.loc 1 639 1 is_stmt 1 view -0
 777              		.cfi_startproc
 778              		@ args = 0, pretend = 0, frame = 0
ARM GAS  /tmp/ccFU370z.s 			page 26


 779              		@ frame_needed = 0, uses_anonymous_args = 0
 780              		@ link register save eliminated.
 640:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Check the parameters */
 641:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 781              		.loc 1 641 3 view .LVU235
 642:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 782              		.loc 1 642 3 view .LVU236
 643:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   if (NewState != DISABLE)
 783              		.loc 1 643 3 view .LVU237
 784              		.loc 1 643 6 is_stmt 0 view .LVU238
 785 0000 29B1     		cbz	r1, .L44
 644:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
 645:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Enable the selected SPI SS output */
 646:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     SPIx->CR2 |= (uint16_t)SPI_CR2_SSOE;
 786              		.loc 1 646 5 is_stmt 1 view .LVU239
 787              		.loc 1 646 15 is_stmt 0 view .LVU240
 788 0002 8388     		ldrh	r3, [r0, #4]
 789 0004 9BB2     		uxth	r3, r3
 790 0006 43F00403 		orr	r3, r3, #4
 791 000a 8380     		strh	r3, [r0, #4]	@ movhi
 792 000c 7047     		bx	lr
 793              	.L44:
 647:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 648:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   else
 649:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
 650:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Disable the selected SPI SS output */
 651:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     SPIx->CR2 &= (uint16_t)~((uint16_t)SPI_CR2_SSOE);
 794              		.loc 1 651 5 is_stmt 1 view .LVU241
 795              		.loc 1 651 15 is_stmt 0 view .LVU242
 796 000e 8388     		ldrh	r3, [r0, #4]
 797 0010 9BB2     		uxth	r3, r3
 798 0012 23F00403 		bic	r3, r3, #4
 799 0016 9BB2     		uxth	r3, r3
 800 0018 8380     		strh	r3, [r0, #4]	@ movhi
 652:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 653:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** }
 801              		.loc 1 653 1 view .LVU243
 802 001a 7047     		bx	lr
 803              		.cfi_endproc
 804              	.LFE140:
 806              		.section	.text.SPI_TIModeCmd,"ax",%progbits
 807              		.align	1
 808              		.global	SPI_TIModeCmd
 809              		.syntax unified
 810              		.thumb
 811              		.thumb_func
 812              		.fpu fpv4-sp-d16
 814              	SPI_TIModeCmd:
 815              	.LVL59:
 816              	.LFB141:
 654:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 655:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /**
 656:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @brief  Enables or disables the SPIx/I2Sx DMA interface.
 657:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *   
 658:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @note   This function can be called only after the SPI_Init() function has 
 659:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         been called. 
 660:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @note   When TI mode is selected, the control bits SSM, SSI, CPOL and CPHA 
ARM GAS  /tmp/ccFU370z.s 			page 27


 661:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         are not taken into consideration and are configured by hardware
 662:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         respectively to the TI mode requirements.  
 663:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * 
 664:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPIx: where x can be 1, 2 or 3 
 665:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  NewState: new state of the selected SPI TI communication mode.
 666:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          This parameter can be: ENABLE or DISABLE.
 667:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @retval None
 668:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
 669:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** void SPI_TIModeCmd(SPI_TypeDef* SPIx, FunctionalState NewState)
 670:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** {
 817              		.loc 1 670 1 is_stmt 1 view -0
 818              		.cfi_startproc
 819              		@ args = 0, pretend = 0, frame = 0
 820              		@ frame_needed = 0, uses_anonymous_args = 0
 821              		@ link register save eliminated.
 671:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Check the parameters */
 672:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 822              		.loc 1 672 3 view .LVU245
 673:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 823              		.loc 1 673 3 view .LVU246
 674:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 675:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   if (NewState != DISABLE)
 824              		.loc 1 675 3 view .LVU247
 825              		.loc 1 675 6 is_stmt 0 view .LVU248
 826 0000 29B1     		cbz	r1, .L47
 676:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
 677:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Enable the TI mode for the selected SPI peripheral */
 678:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     SPIx->CR2 |= SPI_CR2_FRF;
 827              		.loc 1 678 5 is_stmt 1 view .LVU249
 828              		.loc 1 678 15 is_stmt 0 view .LVU250
 829 0002 8388     		ldrh	r3, [r0, #4]
 830 0004 9BB2     		uxth	r3, r3
 831 0006 43F01003 		orr	r3, r3, #16
 832 000a 8380     		strh	r3, [r0, #4]	@ movhi
 833 000c 7047     		bx	lr
 834              	.L47:
 679:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 680:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   else
 681:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
 682:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Disable the TI mode for the selected SPI peripheral */
 683:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     SPIx->CR2 &= (uint16_t)~SPI_CR2_FRF;
 835              		.loc 1 683 5 is_stmt 1 view .LVU251
 836              		.loc 1 683 15 is_stmt 0 view .LVU252
 837 000e 8388     		ldrh	r3, [r0, #4]
 838 0010 9BB2     		uxth	r3, r3
 839 0012 23F01003 		bic	r3, r3, #16
 840 0016 9BB2     		uxth	r3, r3
 841 0018 8380     		strh	r3, [r0, #4]	@ movhi
 684:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 685:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** }
 842              		.loc 1 685 1 view .LVU253
 843 001a 7047     		bx	lr
 844              		.cfi_endproc
 845              	.LFE141:
 847              		.section	.text.I2S_FullDuplexConfig,"ax",%progbits
 848              		.align	1
 849              		.global	I2S_FullDuplexConfig
ARM GAS  /tmp/ccFU370z.s 			page 28


 850              		.syntax unified
 851              		.thumb
 852              		.thumb_func
 853              		.fpu fpv4-sp-d16
 855              	I2S_FullDuplexConfig:
 856              	.LVL60:
 857              	.LFB142:
 686:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 687:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /**
 688:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @brief  Configures the full duplex mode for the I2Sx peripheral using its
 689:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         extension I2Sxext according to the specified parameters in the 
 690:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         I2S_InitStruct.
 691:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  I2Sxext: where x can be  2 or 3 to select the I2S peripheral extension block.
 692:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  I2S_InitStruct: pointer to an I2S_InitTypeDef structure that
 693:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         contains the configuration information for the specified I2S peripheral
 694:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         extension.
 695:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * 
 696:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @note   The structure pointed by I2S_InitStruct parameter should be the same
 697:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         used for the master I2S peripheral. In this case, if the master is 
 698:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         configured as transmitter, the slave will be receiver and vice versa.
 699:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         Or you can force a different mode by modifying the field I2S_Mode to the
 700:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         value I2S_SlaveRx or I2S_SlaveTx indepedently of the master configuration.    
 701:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         
 702:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @note   The I2S full duplex extension can be configured in slave mode only.    
 703:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *  
 704:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @retval None
 705:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
 706:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** void I2S_FullDuplexConfig(SPI_TypeDef* I2Sxext, I2S_InitTypeDef* I2S_InitStruct)
 707:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** {
 858              		.loc 1 707 1 is_stmt 1 view -0
 859              		.cfi_startproc
 860              		@ args = 0, pretend = 0, frame = 0
 861              		@ frame_needed = 0, uses_anonymous_args = 0
 862              		@ link register save eliminated.
 863              		.loc 1 707 1 is_stmt 0 view .LVU255
 864 0000 30B4     		push	{r4, r5}
 865              	.LCFI5:
 866              		.cfi_def_cfa_offset 8
 867              		.cfi_offset 4, -8
 868              		.cfi_offset 5, -4
 708:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   uint16_t tmpreg = 0, tmp = 0;
 869              		.loc 1 708 3 is_stmt 1 view .LVU256
 870              	.LVL61:
 709:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   
 710:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Check the I2S parameters */
 711:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_I2S_EXT_PERIPH(I2Sxext));
 871              		.loc 1 711 3 view .LVU257
 712:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_I2S_MODE(I2S_InitStruct->I2S_Mode));
 872              		.loc 1 712 3 view .LVU258
 713:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_I2S_STANDARD(I2S_InitStruct->I2S_Standard));
 873              		.loc 1 713 3 view .LVU259
 714:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_I2S_DATA_FORMAT(I2S_InitStruct->I2S_DataFormat));
 874              		.loc 1 714 3 view .LVU260
 715:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_I2S_CPOL(I2S_InitStruct->I2S_CPOL));  
 875              		.loc 1 715 3 view .LVU261
 716:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 717:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /*----------------------- SPIx I2SCFGR & I2SPR Configuration -----------------*/
ARM GAS  /tmp/ccFU370z.s 			page 29


 718:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Clear I2SMOD, I2SE, I2SCFG, PCMSYNC, I2SSTD, CKPOL, DATLEN and CHLEN bits */
 719:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   I2Sxext->I2SCFGR &= I2SCFGR_CLEAR_MASK; 
 876              		.loc 1 719 3 view .LVU262
 877              		.loc 1 719 20 is_stmt 0 view .LVU263
 878 0002 838B     		ldrh	r3, [r0, #28]
 879 0004 9BB2     		uxth	r3, r3
 880 0006 23F47B63 		bic	r3, r3, #4016
 881 000a 23F00F03 		bic	r3, r3, #15
 882 000e 9BB2     		uxth	r3, r3
 883 0010 8383     		strh	r3, [r0, #28]	@ movhi
 720:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   I2Sxext->I2SPR = 0x0002;
 884              		.loc 1 720 3 is_stmt 1 view .LVU264
 885              		.loc 1 720 18 is_stmt 0 view .LVU265
 886 0012 0223     		movs	r3, #2
 887 0014 0384     		strh	r3, [r0, #32]	@ movhi
 721:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   
 722:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Get the I2SCFGR register value */
 723:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   tmpreg = I2Sxext->I2SCFGR;
 888              		.loc 1 723 3 is_stmt 1 view .LVU266
 889              		.loc 1 723 10 is_stmt 0 view .LVU267
 890 0016 838B     		ldrh	r3, [r0, #28]
 891 0018 9AB2     		uxth	r2, r3
 892              	.LVL62:
 724:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   
 725:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Get the mode to be configured for the extended I2S */
 726:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   if ((I2S_InitStruct->I2S_Mode == I2S_Mode_MasterTx) || (I2S_InitStruct->I2S_Mode == I2S_Mode_Slav
 893              		.loc 1 726 3 is_stmt 1 view .LVU268
 894              		.loc 1 726 22 is_stmt 0 view .LVU269
 895 001a 0B88     		ldrh	r3, [r1]
 896              		.loc 1 726 6 view .LVU270
 897 001c B3F5007F 		cmp	r3, #512
 898 0020 03D0     		beq	.L51
 899              		.loc 1 726 55 discriminator 1 view .LVU271
 900 0022 83B9     		cbnz	r3, .L52
 727:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
 728:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     tmp = I2S_Mode_SlaveRx;
 901              		.loc 1 728 9 view .LVU272
 902 0024 4FF48075 		mov	r5, #256
 903 0028 01E0     		b	.L50
 904              	.L51:
 905 002a 4FF48075 		mov	r5, #256
 906              	.L50:
 907              	.LVL63:
 729:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 730:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   else
 731:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
 732:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     if ((I2S_InitStruct->I2S_Mode == I2S_Mode_MasterRx) || (I2S_InitStruct->I2S_Mode == I2S_Mode_Sl
 733:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     {
 734:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       tmp = I2S_Mode_SlaveTx;
 735:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     }
 736:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 737:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 738:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  
 739:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Configure the I2S with the SPI_InitStruct values */
 740:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   tmpreg |= (uint16_t)((uint16_t)SPI_I2SCFGR_I2SMOD | (uint16_t)(tmp | \
 908              		.loc 1 740 3 is_stmt 1 view .LVU273
 741:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****                   (uint16_t)(I2S_InitStruct->I2S_Standard | (uint16_t)(I2S_InitStruct->I2S_DataForm
ARM GAS  /tmp/ccFU370z.s 			page 30


 909              		.loc 1 741 44 is_stmt 0 view .LVU274
 910 002e 4B88     		ldrh	r3, [r1, #2]
 911              		.loc 1 741 86 view .LVU275
 912 0030 8C88     		ldrh	r4, [r1, #4]
 742:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****                   (uint16_t)I2S_InitStruct->I2S_CPOL))));
 913              		.loc 1 742 43 view .LVU276
 914 0032 8989     		ldrh	r1, [r1, #12]
 915              	.LVL64:
 741:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****                   (uint16_t)(I2S_InitStruct->I2S_Standard | (uint16_t)(I2S_InitStruct->I2S_DataForm
 916              		.loc 1 741 61 view .LVU277
 917 0034 2143     		orrs	r1, r1, r4
 741:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****                   (uint16_t)(I2S_InitStruct->I2S_Standard | (uint16_t)(I2S_InitStruct->I2S_DataForm
 918              		.loc 1 741 19 view .LVU278
 919 0036 0B43     		orrs	r3, r3, r1
 740:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****                   (uint16_t)(I2S_InitStruct->I2S_Standard | (uint16_t)(I2S_InitStruct->I2S_DataForm
 920              		.loc 1 740 55 view .LVU279
 921 0038 2B43     		orrs	r3, r3, r5
 740:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****                   (uint16_t)(I2S_InitStruct->I2S_Standard | (uint16_t)(I2S_InitStruct->I2S_DataForm
 922              		.loc 1 740 10 view .LVU280
 923 003a 1343     		orrs	r3, r3, r2
 924 003c 43F40063 		orr	r3, r3, #2048
 925              	.LVL65:
 743:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  
 744:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Write to SPIx I2SCFGR */  
 745:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   I2Sxext->I2SCFGR = tmpreg;
 926              		.loc 1 745 3 is_stmt 1 view .LVU281
 927              		.loc 1 745 20 is_stmt 0 view .LVU282
 928 0040 8383     		strh	r3, [r0, #28]	@ movhi
 746:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** }
 929              		.loc 1 746 1 view .LVU283
 930 0042 30BC     		pop	{r4, r5}
 931              	.LCFI6:
 932              		.cfi_remember_state
 933              		.cfi_restore 5
 934              		.cfi_restore 4
 935              		.cfi_def_cfa_offset 0
 936              	.LVL66:
 937              		.loc 1 746 1 view .LVU284
 938 0044 7047     		bx	lr
 939              	.LVL67:
 940              	.L52:
 941              	.LCFI7:
 942              		.cfi_restore_state
 734:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     }
 943              		.loc 1 734 11 view .LVU285
 944 0046 0025     		movs	r5, #0
 945 0048 F1E7     		b	.L50
 946              		.cfi_endproc
 947              	.LFE142:
 949              		.section	.text.SPI_I2S_ReceiveData,"ax",%progbits
 950              		.align	1
 951              		.global	SPI_I2S_ReceiveData
 952              		.syntax unified
 953              		.thumb
 954              		.thumb_func
 955              		.fpu fpv4-sp-d16
 957              	SPI_I2S_ReceiveData:
ARM GAS  /tmp/ccFU370z.s 			page 31


 958              	.LVL68:
 959              	.LFB143:
 747:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 748:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /**
 749:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @}
 750:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
 751:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 752:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /** @defgroup SPI_Group2 Data transfers functions
 753:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  *  @brief   Data transfers functions
 754:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  *
 755:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** @verbatim   
 756:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  ===============================================================================
 757:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****                          Data transfers functions
 758:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  ===============================================================================  
 759:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 760:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   This section provides a set of functions allowing to manage the SPI data transfers
 761:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   
 762:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   In reception, data are received and then stored into an internal Rx buffer while 
 763:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   In transmission, data are first stored into an internal Tx buffer before being 
 764:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   transmitted.
 765:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 766:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   The read access of the SPI_DR register can be done using the SPI_I2S_ReceiveData()
 767:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   function and returns the Rx buffered value. Whereas a write access to the SPI_DR 
 768:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   can be done using SPI_I2S_SendData() function and stores the written data into 
 769:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   Tx buffer.
 770:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 771:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** @endverbatim
 772:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @{
 773:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
 774:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 775:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /**
 776:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @brief  Returns the most recent received data by the SPIx/I2Sx peripheral. 
 777:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPIx: To select the SPIx/I2Sx peripheral, where x can be: 1, 2 or 3 
 778:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         in SPI mode or 2 or 3 in I2S mode or I2Sxext for I2S full duplex mode. 
 779:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @retval The value of the received data.
 780:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
 781:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** uint16_t SPI_I2S_ReceiveData(SPI_TypeDef* SPIx)
 782:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** {
 960              		.loc 1 782 1 is_stmt 1 view -0
 961              		.cfi_startproc
 962              		@ args = 0, pretend = 0, frame = 0
 963              		@ frame_needed = 0, uses_anonymous_args = 0
 964              		@ link register save eliminated.
 783:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Check the parameters */
 784:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_ALL_PERIPH_EXT(SPIx));
 965              		.loc 1 784 3 view .LVU287
 785:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   
 786:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Return the data in the DR register */
 787:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   return SPIx->DR;
 966              		.loc 1 787 3 view .LVU288
 967              		.loc 1 787 14 is_stmt 0 view .LVU289
 968 0000 8089     		ldrh	r0, [r0, #12]
 969              	.LVL69:
 788:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** }
 970              		.loc 1 788 1 view .LVU290
 971 0002 80B2     		uxth	r0, r0
 972 0004 7047     		bx	lr
ARM GAS  /tmp/ccFU370z.s 			page 32


 973              		.cfi_endproc
 974              	.LFE143:
 976              		.section	.text.SPI_I2S_SendData,"ax",%progbits
 977              		.align	1
 978              		.global	SPI_I2S_SendData
 979              		.syntax unified
 980              		.thumb
 981              		.thumb_func
 982              		.fpu fpv4-sp-d16
 984              	SPI_I2S_SendData:
 985              	.LVL70:
 986              	.LFB144:
 789:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 790:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /**
 791:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @brief  Transmits a Data through the SPIx/I2Sx peripheral.
 792:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPIx: To select the SPIx/I2Sx peripheral, where x can be: 1, 2 or 3 
 793:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         in SPI mode or 2 or 3 in I2S mode or I2Sxext for I2S full duplex mode.     
 794:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  Data: Data to be transmitted.
 795:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @retval None
 796:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
 797:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** void SPI_I2S_SendData(SPI_TypeDef* SPIx, uint16_t Data)
 798:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** {
 987              		.loc 1 798 1 is_stmt 1 view -0
 988              		.cfi_startproc
 989              		@ args = 0, pretend = 0, frame = 0
 990              		@ frame_needed = 0, uses_anonymous_args = 0
 991              		@ link register save eliminated.
 799:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Check the parameters */
 800:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_ALL_PERIPH_EXT(SPIx));
 992              		.loc 1 800 3 view .LVU292
 801:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   
 802:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Write in the DR register the data to be sent */
 803:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   SPIx->DR = Data;
 993              		.loc 1 803 3 view .LVU293
 994              		.loc 1 803 12 is_stmt 0 view .LVU294
 995 0000 8181     		strh	r1, [r0, #12]	@ movhi
 804:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** }
 996              		.loc 1 804 1 view .LVU295
 997 0002 7047     		bx	lr
 998              		.cfi_endproc
 999              	.LFE144:
 1001              		.section	.text.SPI_CalculateCRC,"ax",%progbits
 1002              		.align	1
 1003              		.global	SPI_CalculateCRC
 1004              		.syntax unified
 1005              		.thumb
 1006              		.thumb_func
 1007              		.fpu fpv4-sp-d16
 1009              	SPI_CalculateCRC:
 1010              	.LVL71:
 1011              	.LFB145:
 805:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 806:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /**
 807:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @}
 808:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
 809:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 810:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /** @defgroup SPI_Group3 Hardware CRC Calculation functions
ARM GAS  /tmp/ccFU370z.s 			page 33


 811:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  *  @brief   Hardware CRC Calculation functions
 812:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  *
 813:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** @verbatim   
 814:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  ===============================================================================
 815:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****                          Hardware CRC Calculation functions
 816:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  ===============================================================================  
 817:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 818:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   This section provides a set of functions allowing to manage the SPI CRC hardware 
 819:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   calculation
 820:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 821:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   SPI communication using CRC is possible through the following procedure:
 822:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****      1. Program the Data direction, Polarity, Phase, First Data, Baud Rate Prescaler, 
 823:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****         Slave Management, Peripheral Mode and CRC Polynomial values using the SPI_Init()
 824:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****         function.
 825:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****      2. Enable the CRC calculation using the SPI_CalculateCRC() function.
 826:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****      3. Enable the SPI using the SPI_Cmd() function
 827:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****      4. Before writing the last data to the TX buffer, set the CRCNext bit using the 
 828:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       SPI_TransmitCRC() function to indicate that after transmission of the last 
 829:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       data, the CRC should be transmitted.
 830:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****      5. After transmitting the last data, the SPI transmits the CRC. The SPI_CR1_CRCNEXT
 831:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****         bit is reset. The CRC is also received and compared against the SPI_RXCRCR 
 832:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****         value. 
 833:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****         If the value does not match, the SPI_FLAG_CRCERR flag is set and an interrupt
 834:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****         can be generated when the SPI_I2S_IT_ERR interrupt is enabled.
 835:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 836:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** @note It is advised not to read the calculated CRC values during the communication.
 837:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 838:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** @note When the SPI is in slave mode, be careful to enable CRC calculation only 
 839:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       when the clock is stable, that is, when the clock is in the steady state. 
 840:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       If not, a wrong CRC calculation may be done. In fact, the CRC is sensitive 
 841:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       to the SCK slave input clock as soon as CRCEN is set, and this, whatever 
 842:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       the value of the SPE bit.
 843:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 844:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** @note With high bitrate frequencies, be careful when transmitting the CRC.
 845:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       As the number of used CPU cycles has to be as low as possible in the CRC 
 846:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       transfer phase, it is forbidden to call software functions in the CRC 
 847:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       transmission sequence to avoid errors in the last data and CRC reception. 
 848:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       In fact, CRCNEXT bit has to be written before the end of the transmission/reception 
 849:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       of the last data.
 850:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 851:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** @note For high bit rate frequencies, it is advised to use the DMA mode to avoid the
 852:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       degradation of the SPI speed performance due to CPU accesses impacting the 
 853:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       SPI bandwidth.
 854:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 855:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** @note When the STM32F4xx is configured as slave and the NSS hardware mode is 
 856:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       used, the NSS pin needs to be kept low between the data phase and the CRC 
 857:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       phase.
 858:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 859:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** @note When the SPI is configured in slave mode with the CRC feature enabled, CRC
 860:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       calculation takes place even if a high level is applied on the NSS pin. 
 861:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       This may happen for example in case of a multi-slave environment where the 
 862:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       communication master addresses slaves alternately.
 863:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 864:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** @note Between a slave de-selection (high level on NSS) and a new slave selection 
 865:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       (low level on NSS), the CRC value should be cleared on both master and slave
 866:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       sides in order to resynchronize the master and slave for their respective 
 867:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       CRC calculation.
ARM GAS  /tmp/ccFU370z.s 			page 34


 868:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 869:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** @note To clear the CRC, follow the procedure below:
 870:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****         1. Disable SPI using the SPI_Cmd() function
 871:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****         2. Disable the CRC calculation using the SPI_CalculateCRC() function.
 872:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****         3. Enable the CRC calculation using the SPI_CalculateCRC() function.
 873:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****         4. Enable SPI using the SPI_Cmd() function.
 874:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 875:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** @endverbatim
 876:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @{
 877:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
 878:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 879:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /**
 880:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @brief  Enables or disables the CRC value calculation of the transferred bytes.
 881:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPIx: where x can be 1, 2 or 3 to select the SPI peripheral.
 882:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  NewState: new state of the SPIx CRC value calculation.
 883:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          This parameter can be: ENABLE or DISABLE.
 884:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @retval None
 885:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
 886:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** void SPI_CalculateCRC(SPI_TypeDef* SPIx, FunctionalState NewState)
 887:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** {
 1012              		.loc 1 887 1 is_stmt 1 view -0
 1013              		.cfi_startproc
 1014              		@ args = 0, pretend = 0, frame = 0
 1015              		@ frame_needed = 0, uses_anonymous_args = 0
 1016              		@ link register save eliminated.
 888:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Check the parameters */
 889:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 1017              		.loc 1 889 3 view .LVU297
 890:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 1018              		.loc 1 890 3 view .LVU298
 891:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   if (NewState != DISABLE)
 1019              		.loc 1 891 3 view .LVU299
 1020              		.loc 1 891 6 is_stmt 0 view .LVU300
 1021 0000 29B1     		cbz	r1, .L57
 892:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
 893:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Enable the selected SPI CRC calculation */
 894:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     SPIx->CR1 |= SPI_CR1_CRCEN;
 1022              		.loc 1 894 5 is_stmt 1 view .LVU301
 1023              		.loc 1 894 15 is_stmt 0 view .LVU302
 1024 0002 0388     		ldrh	r3, [r0]
 1025 0004 9BB2     		uxth	r3, r3
 1026 0006 43F40053 		orr	r3, r3, #8192
 1027 000a 0380     		strh	r3, [r0]	@ movhi
 1028 000c 7047     		bx	lr
 1029              	.L57:
 895:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 896:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   else
 897:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
 898:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Disable the selected SPI CRC calculation */
 899:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     SPIx->CR1 &= (uint16_t)~((uint16_t)SPI_CR1_CRCEN);
 1030              		.loc 1 899 5 is_stmt 1 view .LVU303
 1031              		.loc 1 899 15 is_stmt 0 view .LVU304
 1032 000e 0388     		ldrh	r3, [r0]
 1033 0010 9BB2     		uxth	r3, r3
 1034 0012 23F40053 		bic	r3, r3, #8192
 1035 0016 9BB2     		uxth	r3, r3
 1036 0018 0380     		strh	r3, [r0]	@ movhi
ARM GAS  /tmp/ccFU370z.s 			page 35


 900:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 901:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** }
 1037              		.loc 1 901 1 view .LVU305
 1038 001a 7047     		bx	lr
 1039              		.cfi_endproc
 1040              	.LFE145:
 1042              		.section	.text.SPI_TransmitCRC,"ax",%progbits
 1043              		.align	1
 1044              		.global	SPI_TransmitCRC
 1045              		.syntax unified
 1046              		.thumb
 1047              		.thumb_func
 1048              		.fpu fpv4-sp-d16
 1050              	SPI_TransmitCRC:
 1051              	.LVL72:
 1052              	.LFB146:
 902:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 903:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /**
 904:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @brief  Transmit the SPIx CRC value.
 905:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPIx: where x can be 1, 2 or 3 to select the SPI peripheral.
 906:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @retval None
 907:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
 908:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** void SPI_TransmitCRC(SPI_TypeDef* SPIx)
 909:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** {
 1053              		.loc 1 909 1 is_stmt 1 view -0
 1054              		.cfi_startproc
 1055              		@ args = 0, pretend = 0, frame = 0
 1056              		@ frame_needed = 0, uses_anonymous_args = 0
 1057              		@ link register save eliminated.
 910:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Check the parameters */
 911:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 1058              		.loc 1 911 3 view .LVU307
 912:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   
 913:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Enable the selected SPI CRC transmission */
 914:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   SPIx->CR1 |= SPI_CR1_CRCNEXT;
 1059              		.loc 1 914 3 view .LVU308
 1060              		.loc 1 914 13 is_stmt 0 view .LVU309
 1061 0000 0388     		ldrh	r3, [r0]
 1062 0002 9BB2     		uxth	r3, r3
 1063 0004 43F48053 		orr	r3, r3, #4096
 1064 0008 0380     		strh	r3, [r0]	@ movhi
 915:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** }
 1065              		.loc 1 915 1 view .LVU310
 1066 000a 7047     		bx	lr
 1067              		.cfi_endproc
 1068              	.LFE146:
 1070              		.section	.text.SPI_GetCRC,"ax",%progbits
 1071              		.align	1
 1072              		.global	SPI_GetCRC
 1073              		.syntax unified
 1074              		.thumb
 1075              		.thumb_func
 1076              		.fpu fpv4-sp-d16
 1078              	SPI_GetCRC:
 1079              	.LVL73:
 1080              	.LFB147:
 916:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
ARM GAS  /tmp/ccFU370z.s 			page 36


 917:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /**
 918:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @brief  Returns the transmit or the receive CRC register value for the specified SPI.
 919:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPIx: where x can be 1, 2 or 3 to select the SPI peripheral.
 920:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPI_CRC: specifies the CRC register to be read.
 921:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          This parameter can be one of the following values:
 922:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            @arg SPI_CRC_Tx: Selects Tx CRC register
 923:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            @arg SPI_CRC_Rx: Selects Rx CRC register
 924:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @retval The selected CRC register value..
 925:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
 926:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** uint16_t SPI_GetCRC(SPI_TypeDef* SPIx, uint8_t SPI_CRC)
 927:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** {
 1081              		.loc 1 927 1 is_stmt 1 view -0
 1082              		.cfi_startproc
 1083              		@ args = 0, pretend = 0, frame = 0
 1084              		@ frame_needed = 0, uses_anonymous_args = 0
 1085              		@ link register save eliminated.
 928:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   uint16_t crcreg = 0;
 1086              		.loc 1 928 3 view .LVU312
 929:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Check the parameters */
 930:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 1087              		.loc 1 930 3 view .LVU313
 931:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_CRC(SPI_CRC));
 1088              		.loc 1 931 3 view .LVU314
 932:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   if (SPI_CRC != SPI_CRC_Rx)
 1089              		.loc 1 932 3 view .LVU315
 1090              		.loc 1 932 6 is_stmt 0 view .LVU316
 1091 0000 0129     		cmp	r1, #1
 1092 0002 02D0     		beq	.L61
 933:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
 934:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Get the Tx CRC register */
 935:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     crcreg = SPIx->TXCRCR;
 1093              		.loc 1 935 5 is_stmt 1 view .LVU317
 1094              		.loc 1 935 12 is_stmt 0 view .LVU318
 1095 0004 008B     		ldrh	r0, [r0, #24]
 1096              	.LVL74:
 1097              		.loc 1 935 12 view .LVU319
 1098 0006 80B2     		uxth	r0, r0
 1099              	.LVL75:
 1100              		.loc 1 935 12 view .LVU320
 1101 0008 7047     		bx	lr
 1102              	.LVL76:
 1103              	.L61:
 936:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 937:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   else
 938:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
 939:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Get the Rx CRC register */
 940:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     crcreg = SPIx->RXCRCR;
 1104              		.loc 1 940 5 is_stmt 1 view .LVU321
 1105              		.loc 1 940 12 is_stmt 0 view .LVU322
 1106 000a 808A     		ldrh	r0, [r0, #20]
 1107              	.LVL77:
 1108              		.loc 1 940 12 view .LVU323
 1109 000c 80B2     		uxth	r0, r0
 1110              	.LVL78:
 941:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 942:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Return the selected CRC register */
 943:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   return crcreg;
ARM GAS  /tmp/ccFU370z.s 			page 37


 1111              		.loc 1 943 3 is_stmt 1 view .LVU324
 944:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** }
 1112              		.loc 1 944 1 is_stmt 0 view .LVU325
 1113 000e 7047     		bx	lr
 1114              		.cfi_endproc
 1115              	.LFE147:
 1117              		.section	.text.SPI_GetCRCPolynomial,"ax",%progbits
 1118              		.align	1
 1119              		.global	SPI_GetCRCPolynomial
 1120              		.syntax unified
 1121              		.thumb
 1122              		.thumb_func
 1123              		.fpu fpv4-sp-d16
 1125              	SPI_GetCRCPolynomial:
 1126              	.LVL79:
 1127              	.LFB148:
 945:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 946:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /**
 947:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @brief  Returns the CRC Polynomial register value for the specified SPI.
 948:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPIx: where x can be 1, 2 or 3 to select the SPI peripheral.
 949:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @retval The CRC Polynomial register value.
 950:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
 951:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** uint16_t SPI_GetCRCPolynomial(SPI_TypeDef* SPIx)
 952:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** {
 1128              		.loc 1 952 1 is_stmt 1 view -0
 1129              		.cfi_startproc
 1130              		@ args = 0, pretend = 0, frame = 0
 1131              		@ frame_needed = 0, uses_anonymous_args = 0
 1132              		@ link register save eliminated.
 953:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Check the parameters */
 954:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_ALL_PERIPH(SPIx));
 1133              		.loc 1 954 3 view .LVU327
 955:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   
 956:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Return the CRC polynomial register */
 957:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   return SPIx->CRCPR;
 1134              		.loc 1 957 3 view .LVU328
 1135              		.loc 1 957 14 is_stmt 0 view .LVU329
 1136 0000 008A     		ldrh	r0, [r0, #16]
 1137              	.LVL80:
 958:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** }
 1138              		.loc 1 958 1 view .LVU330
 1139 0002 80B2     		uxth	r0, r0
 1140 0004 7047     		bx	lr
 1141              		.cfi_endproc
 1142              	.LFE148:
 1144              		.section	.text.SPI_I2S_DMACmd,"ax",%progbits
 1145              		.align	1
 1146              		.global	SPI_I2S_DMACmd
 1147              		.syntax unified
 1148              		.thumb
 1149              		.thumb_func
 1150              		.fpu fpv4-sp-d16
 1152              	SPI_I2S_DMACmd:
 1153              	.LVL81:
 1154              	.LFB149:
 959:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 960:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /**
ARM GAS  /tmp/ccFU370z.s 			page 38


 961:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @}
 962:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
 963:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 964:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /** @defgroup SPI_Group4 DMA transfers management functions
 965:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  *  @brief   DMA transfers management functions
 966:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *
 967:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** @verbatim   
 968:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  ===============================================================================
 969:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****                          DMA transfers management functions
 970:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  ===============================================================================  
 971:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 972:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** @endverbatim
 973:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @{
 974:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
 975:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 976:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /**
 977:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @brief  Enables or disables the SPIx/I2Sx DMA interface.
 978:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPIx: To select the SPIx/I2Sx peripheral, where x can be: 1, 2 or 3 
 979:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         in SPI mode or 2 or 3 in I2S mode or I2Sxext for I2S full duplex mode. 
 980:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPI_I2S_DMAReq: specifies the SPI DMA transfer request to be enabled or disabled. 
 981:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          This parameter can be any combination of the following values:
 982:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            @arg SPI_I2S_DMAReq_Tx: Tx buffer DMA transfer request
 983:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            @arg SPI_I2S_DMAReq_Rx: Rx buffer DMA transfer request
 984:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  NewState: new state of the selected SPI DMA transfer request.
 985:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          This parameter can be: ENABLE or DISABLE.
 986:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @retval None
 987:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
 988:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** void SPI_I2S_DMACmd(SPI_TypeDef* SPIx, uint16_t SPI_I2S_DMAReq, FunctionalState NewState)
 989:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** {
 1155              		.loc 1 989 1 is_stmt 1 view -0
 1156              		.cfi_startproc
 1157              		@ args = 0, pretend = 0, frame = 0
 1158              		@ frame_needed = 0, uses_anonymous_args = 0
 1159              		@ link register save eliminated.
 990:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Check the parameters */
 991:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_ALL_PERIPH_EXT(SPIx));
 1160              		.loc 1 991 3 view .LVU332
 992:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 1161              		.loc 1 992 3 view .LVU333
 993:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_I2S_DMAREQ(SPI_I2S_DMAReq));
 1162              		.loc 1 993 3 view .LVU334
 994:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
 995:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   if (NewState != DISABLE)
 1163              		.loc 1 995 3 view .LVU335
 1164              		.loc 1 995 6 is_stmt 0 view .LVU336
 1165 0000 22B1     		cbz	r2, .L65
 996:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
 997:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Enable the selected SPI DMA requests */
 998:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     SPIx->CR2 |= SPI_I2S_DMAReq;
 1166              		.loc 1 998 5 is_stmt 1 view .LVU337
 1167              		.loc 1 998 15 is_stmt 0 view .LVU338
 1168 0002 8388     		ldrh	r3, [r0, #4]
 1169 0004 9BB2     		uxth	r3, r3
 1170 0006 1943     		orrs	r1, r1, r3
 1171              	.LVL82:
 1172              		.loc 1 998 15 view .LVU339
 1173 0008 8180     		strh	r1, [r0, #4]	@ movhi
ARM GAS  /tmp/ccFU370z.s 			page 39


 1174 000a 7047     		bx	lr
 1175              	.LVL83:
 1176              	.L65:
 999:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
1000:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   else
1001:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
1002:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Disable the selected SPI DMA requests */
1003:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     SPIx->CR2 &= (uint16_t)~SPI_I2S_DMAReq;
 1177              		.loc 1 1003 5 is_stmt 1 view .LVU340
 1178              		.loc 1 1003 15 is_stmt 0 view .LVU341
 1179 000c 8388     		ldrh	r3, [r0, #4]
 1180              		.loc 1 1003 18 view .LVU342
 1181 000e C943     		mvns	r1, r1
 1182              	.LVL84:
 1183              		.loc 1 1003 18 view .LVU343
 1184 0010 89B2     		uxth	r1, r1
 1185              		.loc 1 1003 15 view .LVU344
 1186 0012 1940     		ands	r1, r1, r3
 1187 0014 8180     		strh	r1, [r0, #4]	@ movhi
1004:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
1005:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** }
 1188              		.loc 1 1005 1 view .LVU345
 1189 0016 7047     		bx	lr
 1190              		.cfi_endproc
 1191              	.LFE149:
 1193              		.section	.text.SPI_I2S_ITConfig,"ax",%progbits
 1194              		.align	1
 1195              		.global	SPI_I2S_ITConfig
 1196              		.syntax unified
 1197              		.thumb
 1198              		.thumb_func
 1199              		.fpu fpv4-sp-d16
 1201              	SPI_I2S_ITConfig:
 1202              	.LVL85:
 1203              	.LFB150:
1006:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
1007:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /**
1008:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @}
1009:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
1010:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
1011:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /** @defgroup SPI_Group5 Interrupts and flags management functions
1012:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  *  @brief   Interrupts and flags management functions
1013:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *
1014:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** @verbatim   
1015:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  ===============================================================================
1016:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****                          Interrupts and flags management functions
1017:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****  ===============================================================================  
1018:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
1019:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   This section provides a set of functions allowing to configure the SPI Interrupts 
1020:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   sources and check or clear the flags or pending bits status.
1021:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   The user should identify which mode will be used in his application to manage 
1022:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   the communication: Polling mode, Interrupt mode or DMA mode. 
1023:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     
1024:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   Polling Mode
1025:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   =============
1026:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   In Polling Mode, the SPI/I2S communication can be managed by 9 flags:
1027:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****      1. SPI_I2S_FLAG_TXE : to indicate the status of the transmit buffer register
ARM GAS  /tmp/ccFU370z.s 			page 40


1028:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****      2. SPI_I2S_FLAG_RXNE : to indicate the status of the receive buffer register
1029:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****      3. SPI_I2S_FLAG_BSY : to indicate the state of the communication layer of the SPI.
1030:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****      4. SPI_FLAG_CRCERR : to indicate if a CRC Calculation error occur              
1031:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****      5. SPI_FLAG_MODF : to indicate if a Mode Fault error occur
1032:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****      6. SPI_I2S_FLAG_OVR : to indicate if an Overrun error occur
1033:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****      7. I2S_FLAG_TIFRFE: to indicate a Frame Format error occurs.
1034:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****      8. I2S_FLAG_UDR: to indicate an Underrun error occurs.
1035:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****      9. I2S_FLAG_CHSIDE: to indicate Channel Side.
1036:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
1037:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** @note Do not use the BSY flag to handle each data transmission or reception.  It is
1038:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****       better to use the TXE and RXNE flags instead.
1039:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
1040:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   In this Mode it is advised to use the following functions:
1041:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****      - FlagStatus SPI_I2S_GetFlagStatus(SPI_TypeDef* SPIx, uint16_t SPI_I2S_FLAG);
1042:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****      - void SPI_I2S_ClearFlag(SPI_TypeDef* SPIx, uint16_t SPI_I2S_FLAG);
1043:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
1044:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   Interrupt Mode
1045:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   ===============
1046:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   In Interrupt Mode, the SPI communication can be managed by 3 interrupt sources
1047:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   and 7 pending bits: 
1048:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   Pending Bits:
1049:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   ------------- 
1050:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****      1. SPI_I2S_IT_TXE : to indicate the status of the transmit buffer register
1051:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****      2. SPI_I2S_IT_RXNE : to indicate the status of the receive buffer register
1052:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****      3. SPI_IT_CRCERR : to indicate if a CRC Calculation error occur (available in SPI mode only)  
1053:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****      4. SPI_IT_MODF : to indicate if a Mode Fault error occur (available in SPI mode only)
1054:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****      5. SPI_I2S_IT_OVR : to indicate if an Overrun error occur
1055:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****      6. I2S_IT_UDR : to indicate an Underrun Error occurs (available in I2S mode only).
1056:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****      7. I2S_FLAG_TIFRFE : to indicate a Frame Format error occurs (available in TI mode only).
1057:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
1058:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   Interrupt Source:
1059:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   -----------------
1060:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****      1. SPI_I2S_IT_TXE: specifies the interrupt source for the Tx buffer empty 
1061:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****                         interrupt.  
1062:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****      2. SPI_I2S_IT_RXNE : specifies the interrupt source for the Rx buffer not 
1063:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****                           empty interrupt.
1064:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****      3. SPI_I2S_IT_ERR : specifies the interrupt source for the errors interrupt.
1065:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
1066:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   In this Mode it is advised to use the following functions:
1067:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****      - void SPI_I2S_ITConfig(SPI_TypeDef* SPIx, uint8_t SPI_I2S_IT, FunctionalState NewState);
1068:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****      - ITStatus SPI_I2S_GetITStatus(SPI_TypeDef* SPIx, uint8_t SPI_I2S_IT);
1069:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****      - void SPI_I2S_ClearITPendingBit(SPI_TypeDef* SPIx, uint8_t SPI_I2S_IT);
1070:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
1071:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   DMA Mode
1072:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   ========
1073:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   In DMA Mode, the SPI communication can be managed by 2 DMA Channel requests:
1074:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****      1. SPI_I2S_DMAReq_Tx: specifies the Tx buffer DMA transfer request
1075:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****      2. SPI_I2S_DMAReq_Rx: specifies the Rx buffer DMA transfer request
1076:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
1077:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   In this Mode it is advised to use the following function:
1078:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     - void SPI_I2S_DMACmd(SPI_TypeDef* SPIx, uint16_t SPI_I2S_DMAReq, FunctionalState NewState);
1079:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
1080:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** @endverbatim
1081:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @{
1082:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
1083:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
1084:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /**
ARM GAS  /tmp/ccFU370z.s 			page 41


1085:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @brief  Enables or disables the specified SPI/I2S interrupts.
1086:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPIx: To select the SPIx/I2Sx peripheral, where x can be: 1, 2 or 3 
1087:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         in SPI mode or 2 or 3 in I2S mode or I2Sxext for I2S full duplex mode. 
1088:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPI_I2S_IT: specifies the SPI interrupt source to be enabled or disabled. 
1089:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          This parameter can be one of the following values:
1090:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            @arg SPI_I2S_IT_TXE: Tx buffer empty interrupt mask
1091:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            @arg SPI_I2S_IT_RXNE: Rx buffer not empty interrupt mask
1092:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            @arg SPI_I2S_IT_ERR: Error interrupt mask
1093:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  NewState: new state of the specified SPI interrupt.
1094:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          This parameter can be: ENABLE or DISABLE.
1095:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @retval None
1096:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
1097:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** void SPI_I2S_ITConfig(SPI_TypeDef* SPIx, uint8_t SPI_I2S_IT, FunctionalState NewState)
1098:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** {
 1204              		.loc 1 1098 1 is_stmt 1 view -0
 1205              		.cfi_startproc
 1206              		@ args = 0, pretend = 0, frame = 0
 1207              		@ frame_needed = 0, uses_anonymous_args = 0
 1208              		@ link register save eliminated.
1099:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   uint16_t itpos = 0, itmask = 0 ;
 1209              		.loc 1 1099 3 view .LVU347
1100:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   
1101:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Check the parameters */
1102:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_ALL_PERIPH_EXT(SPIx));
 1210              		.loc 1 1102 3 view .LVU348
1103:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 1211              		.loc 1 1103 3 view .LVU349
1104:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_I2S_CONFIG_IT(SPI_I2S_IT));
 1212              		.loc 1 1104 3 view .LVU350
1105:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
1106:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Get the SPI IT index */
1107:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   itpos = SPI_I2S_IT >> 4;
 1213              		.loc 1 1107 3 view .LVU351
 1214              		.loc 1 1107 9 is_stmt 0 view .LVU352
 1215 0000 0B09     		lsrs	r3, r1, #4
 1216              	.LVL86:
1108:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
1109:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Set the IT mask */
1110:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   itmask = (uint16_t)1 << (uint16_t)itpos;
 1217              		.loc 1 1110 3 is_stmt 1 view .LVU353
 1218              		.loc 1 1110 24 is_stmt 0 view .LVU354
 1219 0002 0121     		movs	r1, #1
 1220              	.LVL87:
 1221              		.loc 1 1110 24 view .LVU355
 1222 0004 9940     		lsls	r1, r1, r3
 1223              		.loc 1 1110 10 view .LVU356
 1224 0006 89B2     		uxth	r1, r1
 1225              	.LVL88:
1111:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
1112:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   if (NewState != DISABLE)
 1226              		.loc 1 1112 3 is_stmt 1 view .LVU357
 1227              		.loc 1 1112 6 is_stmt 0 view .LVU358
 1228 0008 22B1     		cbz	r2, .L68
1113:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
1114:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Enable the selected SPI interrupt */
1115:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     SPIx->CR2 |= itmask;
 1229              		.loc 1 1115 5 is_stmt 1 view .LVU359
ARM GAS  /tmp/ccFU370z.s 			page 42


 1230              		.loc 1 1115 15 is_stmt 0 view .LVU360
 1231 000a 8388     		ldrh	r3, [r0, #4]
 1232              	.LVL89:
 1233              		.loc 1 1115 15 view .LVU361
 1234 000c 9BB2     		uxth	r3, r3
 1235 000e 1943     		orrs	r1, r1, r3
 1236              	.LVL90:
 1237              		.loc 1 1115 15 view .LVU362
 1238 0010 8180     		strh	r1, [r0, #4]	@ movhi
 1239 0012 7047     		bx	lr
 1240              	.LVL91:
 1241              	.L68:
1116:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
1117:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   else
1118:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
1119:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* Disable the selected SPI interrupt */
1120:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     SPIx->CR2 &= (uint16_t)~itmask;
 1242              		.loc 1 1120 5 is_stmt 1 view .LVU363
 1243              		.loc 1 1120 15 is_stmt 0 view .LVU364
 1244 0014 8388     		ldrh	r3, [r0, #4]
 1245              	.LVL92:
 1246              		.loc 1 1120 18 view .LVU365
 1247 0016 C943     		mvns	r1, r1
 1248              	.LVL93:
 1249              		.loc 1 1120 18 view .LVU366
 1250 0018 89B2     		uxth	r1, r1
 1251              	.LVL94:
 1252              		.loc 1 1120 15 view .LVU367
 1253 001a 1940     		ands	r1, r1, r3
 1254 001c 8180     		strh	r1, [r0, #4]	@ movhi
1121:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
1122:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** }
 1255              		.loc 1 1122 1 view .LVU368
 1256 001e 7047     		bx	lr
 1257              		.cfi_endproc
 1258              	.LFE150:
 1260              		.section	.text.SPI_I2S_GetFlagStatus,"ax",%progbits
 1261              		.align	1
 1262              		.global	SPI_I2S_GetFlagStatus
 1263              		.syntax unified
 1264              		.thumb
 1265              		.thumb_func
 1266              		.fpu fpv4-sp-d16
 1268              	SPI_I2S_GetFlagStatus:
 1269              	.LVL95:
 1270              	.LFB151:
1123:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
1124:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /**
1125:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @brief  Checks whether the specified SPIx/I2Sx flag is set or not.
1126:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPIx: To select the SPIx/I2Sx peripheral, where x can be: 1, 2 or 3 
1127:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         in SPI mode or 2 or 3 in I2S mode or I2Sxext for I2S full duplex mode. 
1128:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPI_I2S_FLAG: specifies the SPI flag to check. 
1129:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          This parameter can be one of the following values:
1130:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            @arg SPI_I2S_FLAG_TXE: Transmit buffer empty flag.
1131:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            @arg SPI_I2S_FLAG_RXNE: Receive buffer not empty flag.
1132:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            @arg SPI_I2S_FLAG_BSY: Busy flag.
1133:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            @arg SPI_I2S_FLAG_OVR: Overrun flag.
ARM GAS  /tmp/ccFU370z.s 			page 43


1134:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            @arg SPI_FLAG_MODF: Mode Fault flag.
1135:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            @arg SPI_FLAG_CRCERR: CRC Error flag.
1136:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            @arg SPI_I2S_FLAG_TIFRFE: Format Error.
1137:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            @arg I2S_FLAG_UDR: Underrun Error flag.
1138:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            @arg I2S_FLAG_CHSIDE: Channel Side flag.  
1139:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @retval The new state of SPI_I2S_FLAG (SET or RESET).
1140:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
1141:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** FlagStatus SPI_I2S_GetFlagStatus(SPI_TypeDef* SPIx, uint16_t SPI_I2S_FLAG)
1142:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** {
 1271              		.loc 1 1142 1 is_stmt 1 view -0
 1272              		.cfi_startproc
 1273              		@ args = 0, pretend = 0, frame = 0
 1274              		@ frame_needed = 0, uses_anonymous_args = 0
 1275              		@ link register save eliminated.
1143:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   FlagStatus bitstatus = RESET;
 1276              		.loc 1 1143 3 view .LVU370
1144:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Check the parameters */
1145:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_ALL_PERIPH_EXT(SPIx));
 1277              		.loc 1 1145 3 view .LVU371
1146:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_I2S_GET_FLAG(SPI_I2S_FLAG));
 1278              		.loc 1 1146 3 view .LVU372
1147:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   
1148:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Check the status of the specified SPI flag */
1149:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   if ((SPIx->SR & SPI_I2S_FLAG) != (uint16_t)RESET)
 1279              		.loc 1 1149 3 view .LVU373
 1280              		.loc 1 1149 12 is_stmt 0 view .LVU374
 1281 0000 0389     		ldrh	r3, [r0, #8]
 1282              		.loc 1 1149 6 view .LVU375
 1283 0002 1942     		tst	r1, r3
 1284 0004 01D0     		beq	.L72
1150:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
1151:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* SPI_I2S_FLAG is set */
1152:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     bitstatus = SET;
 1285              		.loc 1 1152 15 view .LVU376
 1286 0006 0120     		movs	r0, #1
 1287              	.LVL96:
 1288              		.loc 1 1152 15 view .LVU377
 1289 0008 7047     		bx	lr
 1290              	.LVL97:
 1291              	.L72:
1153:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
1154:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   else
1155:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
1156:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* SPI_I2S_FLAG is reset */
1157:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     bitstatus = RESET;
 1292              		.loc 1 1157 15 view .LVU378
 1293 000a 0020     		movs	r0, #0
 1294              	.LVL98:
1158:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
1159:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Return the SPI_I2S_FLAG status */
1160:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   return  bitstatus;
 1295              		.loc 1 1160 3 is_stmt 1 view .LVU379
1161:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** }
 1296              		.loc 1 1161 1 is_stmt 0 view .LVU380
 1297 000c 7047     		bx	lr
 1298              		.cfi_endproc
 1299              	.LFE151:
ARM GAS  /tmp/ccFU370z.s 			page 44


 1301              		.section	.text.SPI_I2S_ClearFlag,"ax",%progbits
 1302              		.align	1
 1303              		.global	SPI_I2S_ClearFlag
 1304              		.syntax unified
 1305              		.thumb
 1306              		.thumb_func
 1307              		.fpu fpv4-sp-d16
 1309              	SPI_I2S_ClearFlag:
 1310              	.LVL99:
 1311              	.LFB152:
1162:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
1163:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /**
1164:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @brief  Clears the SPIx CRC Error (CRCERR) flag.
1165:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPIx: To select the SPIx/I2Sx peripheral, where x can be: 1, 2 or 3 
1166:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         in SPI mode or 2 or 3 in I2S mode or I2Sxext for I2S full duplex mode. 
1167:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPI_I2S_FLAG: specifies the SPI flag to clear. 
1168:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          This function clears only CRCERR flag.
1169:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            @arg SPI_FLAG_CRCERR: CRC Error flag.  
1170:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *  
1171:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @note   OVR (OverRun error) flag is cleared by software sequence: a read 
1172:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          operation to SPI_DR register (SPI_I2S_ReceiveData()) followed by a read 
1173:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          operation to SPI_SR register (SPI_I2S_GetFlagStatus()).
1174:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @note   UDR (UnderRun error) flag is cleared by a read operation to 
1175:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          SPI_SR register (SPI_I2S_GetFlagStatus()).   
1176:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @note   MODF (Mode Fault) flag is cleared by software sequence: a read/write 
1177:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          operation to SPI_SR register (SPI_I2S_GetFlagStatus()) followed by a 
1178:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          write operation to SPI_CR1 register (SPI_Cmd() to enable the SPI).
1179:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *  
1180:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @retval None
1181:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
1182:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** void SPI_I2S_ClearFlag(SPI_TypeDef* SPIx, uint16_t SPI_I2S_FLAG)
1183:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** {
 1312              		.loc 1 1183 1 is_stmt 1 view -0
 1313              		.cfi_startproc
 1314              		@ args = 0, pretend = 0, frame = 0
 1315              		@ frame_needed = 0, uses_anonymous_args = 0
 1316              		@ link register save eliminated.
1184:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Check the parameters */
1185:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_ALL_PERIPH_EXT(SPIx));
 1317              		.loc 1 1185 3 view .LVU382
1186:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_I2S_CLEAR_FLAG(SPI_I2S_FLAG));
 1318              		.loc 1 1186 3 view .LVU383
1187:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     
1188:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Clear the selected SPI CRC Error (CRCERR) flag */
1189:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   SPIx->SR = (uint16_t)~SPI_I2S_FLAG;
 1319              		.loc 1 1189 3 view .LVU384
 1320              		.loc 1 1189 14 is_stmt 0 view .LVU385
 1321 0000 C943     		mvns	r1, r1
 1322              	.LVL100:
 1323              		.loc 1 1189 14 view .LVU386
 1324 0002 89B2     		uxth	r1, r1
 1325              		.loc 1 1189 12 view .LVU387
 1326 0004 0181     		strh	r1, [r0, #8]	@ movhi
1190:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** }
 1327              		.loc 1 1190 1 view .LVU388
 1328 0006 7047     		bx	lr
 1329              		.cfi_endproc
ARM GAS  /tmp/ccFU370z.s 			page 45


 1330              	.LFE152:
 1332              		.section	.text.SPI_I2S_GetITStatus,"ax",%progbits
 1333              		.align	1
 1334              		.global	SPI_I2S_GetITStatus
 1335              		.syntax unified
 1336              		.thumb
 1337              		.thumb_func
 1338              		.fpu fpv4-sp-d16
 1340              	SPI_I2S_GetITStatus:
 1341              	.LVL101:
 1342              	.LFB153:
1191:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
1192:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /**
1193:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @brief  Checks whether the specified SPIx/I2Sx interrupt has occurred or not.
1194:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPIx: To select the SPIx/I2Sx peripheral, where x can be: 1, 2 or 3 
1195:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         in SPI mode or 2 or 3 in I2S mode or I2Sxext for I2S full duplex mode.  
1196:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPI_I2S_IT: specifies the SPI interrupt source to check. 
1197:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          This parameter can be one of the following values:
1198:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            @arg SPI_I2S_IT_TXE: Transmit buffer empty interrupt.
1199:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            @arg SPI_I2S_IT_RXNE: Receive buffer not empty interrupt.
1200:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            @arg SPI_I2S_IT_OVR: Overrun interrupt.
1201:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            @arg SPI_IT_MODF: Mode Fault interrupt.
1202:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            @arg SPI_IT_CRCERR: CRC Error interrupt.
1203:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            @arg I2S_IT_UDR: Underrun interrupt.  
1204:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            @arg SPI_I2S_IT_TIFRFE: Format Error interrupt.  
1205:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @retval The new state of SPI_I2S_IT (SET or RESET).
1206:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
1207:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** ITStatus SPI_I2S_GetITStatus(SPI_TypeDef* SPIx, uint8_t SPI_I2S_IT)
1208:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** {
 1343              		.loc 1 1208 1 is_stmt 1 view -0
 1344              		.cfi_startproc
 1345              		@ args = 0, pretend = 0, frame = 0
 1346              		@ frame_needed = 0, uses_anonymous_args = 0
 1347              		@ link register save eliminated.
1209:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   ITStatus bitstatus = RESET;
 1348              		.loc 1 1209 3 view .LVU390
1210:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   uint16_t itpos = 0, itmask = 0, enablestatus = 0;
 1349              		.loc 1 1210 3 view .LVU391
1211:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
1212:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Check the parameters */
1213:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_ALL_PERIPH_EXT(SPIx));
 1350              		.loc 1 1213 3 view .LVU392
1214:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_I2S_GET_IT(SPI_I2S_IT));
 1351              		.loc 1 1214 3 view .LVU393
1215:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
1216:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Get the SPI_I2S_IT index */
1217:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   itpos = 0x01 << (SPI_I2S_IT & 0x0F);
 1352              		.loc 1 1217 3 view .LVU394
 1353              		.loc 1 1217 31 is_stmt 0 view .LVU395
 1354 0000 01F00F02 		and	r2, r1, #15
 1355              		.loc 1 1217 16 view .LVU396
 1356 0004 0123     		movs	r3, #1
 1357 0006 03FA02F2 		lsl	r2, r3, r2
 1358              	.LVL102:
1218:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
1219:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Get the SPI_I2S_IT IT mask */
1220:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   itmask = SPI_I2S_IT >> 4;
ARM GAS  /tmp/ccFU370z.s 			page 46


 1359              		.loc 1 1220 3 is_stmt 1 view .LVU397
 1360              		.loc 1 1220 10 is_stmt 0 view .LVU398
 1361 000a 0909     		lsrs	r1, r1, #4
 1362              	.LVL103:
1221:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
1222:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Set the IT mask */
1223:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   itmask = 0x01 << itmask;
 1363              		.loc 1 1223 3 is_stmt 1 view .LVU399
 1364              		.loc 1 1223 17 is_stmt 0 view .LVU400
 1365 000c 03FA01F1 		lsl	r1, r3, r1
 1366              	.LVL104:
1224:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
1225:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Get the SPI_I2S_IT enable bit status */
1226:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   enablestatus = (SPIx->CR2 & itmask) ;
 1367              		.loc 1 1226 3 is_stmt 1 view .LVU401
 1368              		.loc 1 1226 23 is_stmt 0 view .LVU402
 1369 0010 8388     		ldrh	r3, [r0, #4]
 1370 0012 9BB2     		uxth	r3, r3
 1371              		.loc 1 1226 16 view .LVU403
 1372 0014 1940     		ands	r1, r1, r3
 1373              	.LVL105:
1227:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
1228:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Check the status of the specified SPI interrupt */
1229:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   if (((SPIx->SR & itpos) != (uint16_t)RESET) && enablestatus)
 1374              		.loc 1 1229 3 is_stmt 1 view .LVU404
 1375              		.loc 1 1229 13 is_stmt 0 view .LVU405
 1376 0016 0389     		ldrh	r3, [r0, #8]
 1377 0018 9BB2     		uxth	r3, r3
 1378              		.loc 1 1229 6 view .LVU406
 1379 001a 1A42     		tst	r2, r3
 1380 001c 02D0     		beq	.L76
 1381              		.loc 1 1229 47 discriminator 1 view .LVU407
 1382 001e 19B9     		cbnz	r1, .L77
1230:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
1231:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* SPI_I2S_IT is set */
1232:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     bitstatus = SET;
1233:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
1234:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   else
1235:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   {
1236:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     /* SPI_I2S_IT is reset */
1237:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****     bitstatus = RESET;
 1383              		.loc 1 1237 15 view .LVU408
 1384 0020 0020     		movs	r0, #0
 1385              	.LVL106:
 1386              		.loc 1 1237 15 view .LVU409
 1387 0022 7047     		bx	lr
 1388              	.LVL107:
 1389              	.L76:
 1390              		.loc 1 1237 15 view .LVU410
 1391 0024 0020     		movs	r0, #0
 1392              	.LVL108:
 1393              		.loc 1 1237 15 view .LVU411
 1394 0026 7047     		bx	lr
 1395              	.LVL109:
 1396              	.L77:
1232:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
 1397              		.loc 1 1232 15 view .LVU412
ARM GAS  /tmp/ccFU370z.s 			page 47


 1398 0028 0120     		movs	r0, #1
 1399              	.LVL110:
1238:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   }
1239:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Return the SPI_I2S_IT status */
1240:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   return bitstatus;
 1400              		.loc 1 1240 3 is_stmt 1 view .LVU413
1241:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** }
 1401              		.loc 1 1241 1 is_stmt 0 view .LVU414
 1402 002a 7047     		bx	lr
 1403              		.cfi_endproc
 1404              	.LFE153:
 1406              		.section	.text.SPI_I2S_ClearITPendingBit,"ax",%progbits
 1407              		.align	1
 1408              		.global	SPI_I2S_ClearITPendingBit
 1409              		.syntax unified
 1410              		.thumb
 1411              		.thumb_func
 1412              		.fpu fpv4-sp-d16
 1414              	SPI_I2S_ClearITPendingBit:
 1415              	.LVL111:
 1416              	.LFB154:
1242:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
1243:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** /**
1244:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @brief  Clears the SPIx CRC Error (CRCERR) interrupt pending bit.
1245:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPIx: To select the SPIx/I2Sx peripheral, where x can be: 1, 2 or 3 
1246:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         in SPI mode or 2 or 3 in I2S mode or I2Sxext for I2S full duplex mode.  
1247:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @param  SPI_I2S_IT: specifies the SPI interrupt pending bit to clear.
1248:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *         This function clears only CRCERR interrupt pending bit.   
1249:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *            @arg SPI_IT_CRCERR: CRC Error interrupt.
1250:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *   
1251:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @note   OVR (OverRun Error) interrupt pending bit is cleared by software 
1252:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          sequence: a read operation to SPI_DR register (SPI_I2S_ReceiveData()) 
1253:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          followed by a read operation to SPI_SR register (SPI_I2S_GetITStatus()).
1254:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @note   UDR (UnderRun Error) interrupt pending bit is cleared by a read 
1255:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          operation to SPI_SR register (SPI_I2S_GetITStatus()).   
1256:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @note   MODF (Mode Fault) interrupt pending bit is cleared by software sequence:
1257:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          a read/write operation to SPI_SR register (SPI_I2S_GetITStatus()) 
1258:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          followed by a write operation to SPI_CR1 register (SPI_Cmd() to enable 
1259:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   *          the SPI).
1260:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   * @retval None
1261:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   */
1262:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** void SPI_I2S_ClearITPendingBit(SPI_TypeDef* SPIx, uint8_t SPI_I2S_IT)
1263:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** {
 1417              		.loc 1 1263 1 is_stmt 1 view -0
 1418              		.cfi_startproc
 1419              		@ args = 0, pretend = 0, frame = 0
 1420              		@ frame_needed = 0, uses_anonymous_args = 0
 1421              		@ link register save eliminated.
1264:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   uint16_t itpos = 0;
 1422              		.loc 1 1264 3 view .LVU416
1265:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Check the parameters */
1266:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_ALL_PERIPH_EXT(SPIx));
 1423              		.loc 1 1266 3 view .LVU417
1267:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   assert_param(IS_SPI_I2S_CLEAR_IT(SPI_I2S_IT));
 1424              		.loc 1 1267 3 view .LVU418
1268:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
1269:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Get the SPI_I2S IT index */
ARM GAS  /tmp/ccFU370z.s 			page 48


1270:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   itpos = 0x01 << (SPI_I2S_IT & 0x0F);
 1425              		.loc 1 1270 3 view .LVU419
 1426              		.loc 1 1270 31 is_stmt 0 view .LVU420
 1427 0000 01F00F01 		and	r1, r1, #15
 1428              	.LVL112:
 1429              		.loc 1 1270 16 view .LVU421
 1430 0004 0123     		movs	r3, #1
 1431 0006 8B40     		lsls	r3, r3, r1
 1432              		.loc 1 1270 9 view .LVU422
 1433 0008 9BB2     		uxth	r3, r3
 1434              	.LVL113:
1271:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** 
1272:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   /* Clear the selected SPI CRC Error (CRCERR) interrupt pending bit */
1273:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c ****   SPIx->SR = (uint16_t)~itpos;
 1435              		.loc 1 1273 3 is_stmt 1 view .LVU423
 1436              		.loc 1 1273 14 is_stmt 0 view .LVU424
 1437 000a DB43     		mvns	r3, r3
 1438              	.LVL114:
 1439              		.loc 1 1273 14 view .LVU425
 1440 000c 9BB2     		uxth	r3, r3
 1441              	.LVL115:
 1442              		.loc 1 1273 12 view .LVU426
 1443 000e 0381     		strh	r3, [r0, #8]	@ movhi
1274:Drivers/STM32F4xx_StdPeriph_Driver/src/stm32f4xx_spi.c **** }
 1444              		.loc 1 1274 1 view .LVU427
 1445 0010 7047     		bx	lr
 1446              		.cfi_endproc
 1447              	.LFE154:
 1449              		.text
 1450              	.Letext0:
 1451              		.file 2 "/home/way/Programs/gcc-arm-none-eabi/arm-none-eabi/include/machine/_default_types.h"
 1452              		.file 3 "/home/way/Programs/gcc-arm-none-eabi/arm-none-eabi/include/sys/_stdint.h"
 1453              		.file 4 "Drivers/CMSIS/Core/Include/core_cm4.h"
 1454              		.file 5 "Inc/system_stm32f4xx.h"
 1455              		.file 6 "Inc/stm32f4xx.h"
 1456              		.file 7 "Drivers/STM32F4xx_StdPeriph_Driver/inc/stm32f4xx_spi.h"
 1457              		.file 8 "Drivers/STM32F4xx_StdPeriph_Driver/inc/stm32f4xx_rcc.h"
ARM GAS  /tmp/ccFU370z.s 			page 49


DEFINED SYMBOLS
                            *ABS*:0000000000000000 stm32f4xx_spi.c
     /tmp/ccFU370z.s:18     .text.SPI_I2S_DeInit:0000000000000000 $t
     /tmp/ccFU370z.s:26     .text.SPI_I2S_DeInit:0000000000000000 SPI_I2S_DeInit
     /tmp/ccFU370z.s:109    .text.SPI_I2S_DeInit:0000000000000058 $d
     /tmp/ccFU370z.s:116    .text.SPI_Init:0000000000000000 $t
     /tmp/ccFU370z.s:123    .text.SPI_Init:0000000000000000 SPI_Init
     /tmp/ccFU370z.s:212    .text.I2S_Init:0000000000000000 $t
     /tmp/ccFU370z.s:219    .text.I2S_Init:0000000000000000 I2S_Init
     /tmp/ccFU370z.s:465    .text.I2S_Init:00000000000000e0 $d
     /tmp/ccFU370z.s:472    .text.SPI_StructInit:0000000000000000 $t
     /tmp/ccFU370z.s:479    .text.SPI_StructInit:0000000000000000 SPI_StructInit
     /tmp/ccFU370z.s:522    .text.I2S_StructInit:0000000000000000 $t
     /tmp/ccFU370z.s:529    .text.I2S_StructInit:0000000000000000 I2S_StructInit
     /tmp/ccFU370z.s:563    .text.SPI_Cmd:0000000000000000 $t
     /tmp/ccFU370z.s:570    .text.SPI_Cmd:0000000000000000 SPI_Cmd
     /tmp/ccFU370z.s:604    .text.I2S_Cmd:0000000000000000 $t
     /tmp/ccFU370z.s:611    .text.I2S_Cmd:0000000000000000 I2S_Cmd
     /tmp/ccFU370z.s:645    .text.SPI_DataSizeConfig:0000000000000000 $t
     /tmp/ccFU370z.s:652    .text.SPI_DataSizeConfig:0000000000000000 SPI_DataSizeConfig
     /tmp/ccFU370z.s:681    .text.SPI_BiDirectionalLineConfig:0000000000000000 $t
     /tmp/ccFU370z.s:688    .text.SPI_BiDirectionalLineConfig:0000000000000000 SPI_BiDirectionalLineConfig
     /tmp/ccFU370z.s:723    .text.SPI_NSSInternalSoftwareConfig:0000000000000000 $t
     /tmp/ccFU370z.s:730    .text.SPI_NSSInternalSoftwareConfig:0000000000000000 SPI_NSSInternalSoftwareConfig
     /tmp/ccFU370z.s:766    .text.SPI_SSOutputCmd:0000000000000000 $t
     /tmp/ccFU370z.s:773    .text.SPI_SSOutputCmd:0000000000000000 SPI_SSOutputCmd
     /tmp/ccFU370z.s:807    .text.SPI_TIModeCmd:0000000000000000 $t
     /tmp/ccFU370z.s:814    .text.SPI_TIModeCmd:0000000000000000 SPI_TIModeCmd
     /tmp/ccFU370z.s:848    .text.I2S_FullDuplexConfig:0000000000000000 $t
     /tmp/ccFU370z.s:855    .text.I2S_FullDuplexConfig:0000000000000000 I2S_FullDuplexConfig
     /tmp/ccFU370z.s:950    .text.SPI_I2S_ReceiveData:0000000000000000 $t
     /tmp/ccFU370z.s:957    .text.SPI_I2S_ReceiveData:0000000000000000 SPI_I2S_ReceiveData
     /tmp/ccFU370z.s:977    .text.SPI_I2S_SendData:0000000000000000 $t
     /tmp/ccFU370z.s:984    .text.SPI_I2S_SendData:0000000000000000 SPI_I2S_SendData
     /tmp/ccFU370z.s:1002   .text.SPI_CalculateCRC:0000000000000000 $t
     /tmp/ccFU370z.s:1009   .text.SPI_CalculateCRC:0000000000000000 SPI_CalculateCRC
     /tmp/ccFU370z.s:1043   .text.SPI_TransmitCRC:0000000000000000 $t
     /tmp/ccFU370z.s:1050   .text.SPI_TransmitCRC:0000000000000000 SPI_TransmitCRC
     /tmp/ccFU370z.s:1071   .text.SPI_GetCRC:0000000000000000 $t
     /tmp/ccFU370z.s:1078   .text.SPI_GetCRC:0000000000000000 SPI_GetCRC
     /tmp/ccFU370z.s:1118   .text.SPI_GetCRCPolynomial:0000000000000000 $t
     /tmp/ccFU370z.s:1125   .text.SPI_GetCRCPolynomial:0000000000000000 SPI_GetCRCPolynomial
     /tmp/ccFU370z.s:1145   .text.SPI_I2S_DMACmd:0000000000000000 $t
     /tmp/ccFU370z.s:1152   .text.SPI_I2S_DMACmd:0000000000000000 SPI_I2S_DMACmd
     /tmp/ccFU370z.s:1194   .text.SPI_I2S_ITConfig:0000000000000000 $t
     /tmp/ccFU370z.s:1201   .text.SPI_I2S_ITConfig:0000000000000000 SPI_I2S_ITConfig
     /tmp/ccFU370z.s:1261   .text.SPI_I2S_GetFlagStatus:0000000000000000 $t
     /tmp/ccFU370z.s:1268   .text.SPI_I2S_GetFlagStatus:0000000000000000 SPI_I2S_GetFlagStatus
     /tmp/ccFU370z.s:1302   .text.SPI_I2S_ClearFlag:0000000000000000 $t
     /tmp/ccFU370z.s:1309   .text.SPI_I2S_ClearFlag:0000000000000000 SPI_I2S_ClearFlag
     /tmp/ccFU370z.s:1333   .text.SPI_I2S_GetITStatus:0000000000000000 $t
     /tmp/ccFU370z.s:1340   .text.SPI_I2S_GetITStatus:0000000000000000 SPI_I2S_GetITStatus
     /tmp/ccFU370z.s:1407   .text.SPI_I2S_ClearITPendingBit:0000000000000000 $t
     /tmp/ccFU370z.s:1414   .text.SPI_I2S_ClearITPendingBit:0000000000000000 SPI_I2S_ClearITPendingBit

UNDEFINED SYMBOLS
RCC_APB2PeriphResetCmd
ARM GAS  /tmp/ccFU370z.s 			page 50


RCC_APB1PeriphResetCmd
